<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>对象的新特性 | FE 前端研究所</title>
    <meta name="description" content="ErrorJE 直辖 Blog">
    <link rel="icon" href="/whole-stack-note/logo.jpg">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    
    <link rel="preload" href="/whole-stack-note/assets/css/0.styles.966634b6.css" as="style"><link rel="preload" href="/whole-stack-note/assets/js/app.386e2e00.js" as="script"><link rel="preload" href="/whole-stack-note/assets/js/2.6d170185.js" as="script"><link rel="preload" href="/whole-stack-note/assets/js/21.c25bfdec.js" as="script"><link rel="prefetch" href="/whole-stack-note/assets/js/10.ee1c1979.js"><link rel="prefetch" href="/whole-stack-note/assets/js/100.2427fafa.js"><link rel="prefetch" href="/whole-stack-note/assets/js/101.0030ecb0.js"><link rel="prefetch" href="/whole-stack-note/assets/js/11.2d3a5c7c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/12.698342be.js"><link rel="prefetch" href="/whole-stack-note/assets/js/13.bba4ce64.js"><link rel="prefetch" href="/whole-stack-note/assets/js/14.514ef364.js"><link rel="prefetch" href="/whole-stack-note/assets/js/15.9717a3ce.js"><link rel="prefetch" href="/whole-stack-note/assets/js/16.eb42bdaa.js"><link rel="prefetch" href="/whole-stack-note/assets/js/17.dd0bd8ce.js"><link rel="prefetch" href="/whole-stack-note/assets/js/18.8ad9b54e.js"><link rel="prefetch" href="/whole-stack-note/assets/js/19.74238fc3.js"><link rel="prefetch" href="/whole-stack-note/assets/js/20.60f1a8a8.js"><link rel="prefetch" href="/whole-stack-note/assets/js/22.dbe12b43.js"><link rel="prefetch" href="/whole-stack-note/assets/js/23.a0cb54ad.js"><link rel="prefetch" href="/whole-stack-note/assets/js/24.dad8f402.js"><link rel="prefetch" href="/whole-stack-note/assets/js/25.6c58262c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/26.c9172401.js"><link rel="prefetch" href="/whole-stack-note/assets/js/27.d8463591.js"><link rel="prefetch" href="/whole-stack-note/assets/js/28.2ba1e72e.js"><link rel="prefetch" href="/whole-stack-note/assets/js/29.705178f1.js"><link rel="prefetch" href="/whole-stack-note/assets/js/3.e21bb9ed.js"><link rel="prefetch" href="/whole-stack-note/assets/js/30.156c6952.js"><link rel="prefetch" href="/whole-stack-note/assets/js/31.3ace218a.js"><link rel="prefetch" href="/whole-stack-note/assets/js/32.f9ccb391.js"><link rel="prefetch" href="/whole-stack-note/assets/js/33.e4d3e853.js"><link rel="prefetch" href="/whole-stack-note/assets/js/34.c5adedab.js"><link rel="prefetch" href="/whole-stack-note/assets/js/35.43e31ae5.js"><link rel="prefetch" href="/whole-stack-note/assets/js/36.d84a5d2e.js"><link rel="prefetch" href="/whole-stack-note/assets/js/37.7d9a7967.js"><link rel="prefetch" href="/whole-stack-note/assets/js/38.b8b67fe7.js"><link rel="prefetch" href="/whole-stack-note/assets/js/39.b6e131dd.js"><link rel="prefetch" href="/whole-stack-note/assets/js/4.a23040bc.js"><link rel="prefetch" href="/whole-stack-note/assets/js/40.5278289f.js"><link rel="prefetch" href="/whole-stack-note/assets/js/41.302b5328.js"><link rel="prefetch" href="/whole-stack-note/assets/js/42.736df250.js"><link rel="prefetch" href="/whole-stack-note/assets/js/43.dfc18400.js"><link rel="prefetch" href="/whole-stack-note/assets/js/44.bdf4cd45.js"><link rel="prefetch" href="/whole-stack-note/assets/js/45.8440854f.js"><link rel="prefetch" href="/whole-stack-note/assets/js/46.978b71d6.js"><link rel="prefetch" href="/whole-stack-note/assets/js/47.33aabefb.js"><link rel="prefetch" href="/whole-stack-note/assets/js/48.6701ef33.js"><link rel="prefetch" href="/whole-stack-note/assets/js/49.6941dbdb.js"><link rel="prefetch" href="/whole-stack-note/assets/js/5.8b0953b8.js"><link rel="prefetch" href="/whole-stack-note/assets/js/50.b36bcf99.js"><link rel="prefetch" href="/whole-stack-note/assets/js/51.15699984.js"><link rel="prefetch" href="/whole-stack-note/assets/js/52.c7da722e.js"><link rel="prefetch" href="/whole-stack-note/assets/js/53.db0735be.js"><link rel="prefetch" href="/whole-stack-note/assets/js/54.6fd68dbb.js"><link rel="prefetch" href="/whole-stack-note/assets/js/55.cee48877.js"><link rel="prefetch" href="/whole-stack-note/assets/js/56.154d093b.js"><link rel="prefetch" href="/whole-stack-note/assets/js/57.8bd50fe4.js"><link rel="prefetch" href="/whole-stack-note/assets/js/58.686ea3e6.js"><link rel="prefetch" href="/whole-stack-note/assets/js/59.e170ac5f.js"><link rel="prefetch" href="/whole-stack-note/assets/js/6.4336baf3.js"><link rel="prefetch" href="/whole-stack-note/assets/js/60.a2ac5940.js"><link rel="prefetch" href="/whole-stack-note/assets/js/61.e2eac665.js"><link rel="prefetch" href="/whole-stack-note/assets/js/62.75c8391d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/63.43dd3a32.js"><link rel="prefetch" href="/whole-stack-note/assets/js/64.4d605da9.js"><link rel="prefetch" href="/whole-stack-note/assets/js/65.02dde5d5.js"><link rel="prefetch" href="/whole-stack-note/assets/js/66.58bd1260.js"><link rel="prefetch" href="/whole-stack-note/assets/js/67.51798668.js"><link rel="prefetch" href="/whole-stack-note/assets/js/68.df0ef085.js"><link rel="prefetch" href="/whole-stack-note/assets/js/69.a551a72b.js"><link rel="prefetch" href="/whole-stack-note/assets/js/7.e465b6ba.js"><link rel="prefetch" href="/whole-stack-note/assets/js/70.d626fecf.js"><link rel="prefetch" href="/whole-stack-note/assets/js/71.a180d067.js"><link rel="prefetch" href="/whole-stack-note/assets/js/72.03ebe3f7.js"><link rel="prefetch" href="/whole-stack-note/assets/js/73.c2df73ec.js"><link rel="prefetch" href="/whole-stack-note/assets/js/74.4eb2026f.js"><link rel="prefetch" href="/whole-stack-note/assets/js/75.fe11804c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/76.fd60ecd6.js"><link rel="prefetch" href="/whole-stack-note/assets/js/77.ba396b06.js"><link rel="prefetch" href="/whole-stack-note/assets/js/78.6e6aefb5.js"><link rel="prefetch" href="/whole-stack-note/assets/js/79.233a6f74.js"><link rel="prefetch" href="/whole-stack-note/assets/js/8.222b3810.js"><link rel="prefetch" href="/whole-stack-note/assets/js/80.d41d146c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/81.887086f4.js"><link rel="prefetch" href="/whole-stack-note/assets/js/82.be84b238.js"><link rel="prefetch" href="/whole-stack-note/assets/js/83.df6fa9f1.js"><link rel="prefetch" href="/whole-stack-note/assets/js/84.b551aea8.js"><link rel="prefetch" href="/whole-stack-note/assets/js/85.f42f4924.js"><link rel="prefetch" href="/whole-stack-note/assets/js/86.d3039e9a.js"><link rel="prefetch" href="/whole-stack-note/assets/js/87.dd22dc96.js"><link rel="prefetch" href="/whole-stack-note/assets/js/88.1b09c783.js"><link rel="prefetch" href="/whole-stack-note/assets/js/89.f85a6ad9.js"><link rel="prefetch" href="/whole-stack-note/assets/js/9.7a222e22.js"><link rel="prefetch" href="/whole-stack-note/assets/js/90.23b01315.js"><link rel="prefetch" href="/whole-stack-note/assets/js/91.c9056ffe.js"><link rel="prefetch" href="/whole-stack-note/assets/js/92.be511897.js"><link rel="prefetch" href="/whole-stack-note/assets/js/93.dd239170.js"><link rel="prefetch" href="/whole-stack-note/assets/js/94.ef196c74.js"><link rel="prefetch" href="/whole-stack-note/assets/js/95.b93789a9.js"><link rel="prefetch" href="/whole-stack-note/assets/js/96.3af32f62.js"><link rel="prefetch" href="/whole-stack-note/assets/js/97.be8eca0c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/98.4d18836d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/99.c9472643.js">
    <link rel="stylesheet" href="/whole-stack-note/assets/css/0.styles.966634b6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/whole-stack-note/" class="home-link router-link-active"><!----> <span class="site-name">FE 前端研究所</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/whole-stack-note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端初级" class="dropdown-title"><span class="title">前端初级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML / CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-base/" class="nav-link">HTML 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-pro/" class="nav-link">HTML5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-base/" class="nav-link">CSS 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-pro/" class="nav-link">CSS3 / CSS4</a></li></ul></li><li class="dropdown-item"><h4>JS 基础与进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/es-next/01 let 变量和 const 常量.html" class="nav-link">ES-Next</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/typescript/00 基础知识.html" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/jquery/" class="nav-link">JQuery</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/browser/DOM.html" class="nav-link">浏览器原理</a></li></ul></li><li class="dropdown-item"><h4>项目包管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/npm/" class="nav-link">NPM</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/yarn/" class="nav-link">YARN</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/learn/" class="nav-link">LEARN</a></li></ul></li><li class="dropdown-item"><h4>团队协作</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/code-format/" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/tools/" class="nav-link">开发工具链</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端中级" class="dropdown-title"><span class="title">前端中级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>移动端开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/h5/" class="nav-link">H5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/uni-app/" class="nav-link">Uni-App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/react-native/" class="nav-link">React Native</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/fullter/" class="nav-link">Fullter</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/wechat/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/weex/" class="nav-link">Weex</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/mpvue/" class="nav-link">MpVue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/pwa/" class="nav-link">PWA</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/native-app/" class="nav-link">Native App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/hybird-app/" class="nav-link">Hybird App</a></li></ul></li><li class="dropdown-item"><h4>开发框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-base/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-element-admin/" class="nav-link">Vue-Element-Admin</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/react-base/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>NodeJS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/node-base/" class="nav-link">Node 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/express.html" class="nav-link">Express</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/koa.html" class="nav-link">Koa</a></li></ul></li><li class="dropdown-item"><h4>面试相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/business/" class="nav-link">业务开发</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/topic/" class="nav-link">面试题</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/live/" class="nav-link">记录</a></li><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/economics/" class="nav-link">经济学</a></li></ul></div></div><div class="nav-item"><a href="/whole-stack-note/my-resume.html" class="nav-link">Resume</a></div> <a href="https://github.com/ErrorJe" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/whole-stack-note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端初级" class="dropdown-title"><span class="title">前端初级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML / CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-base/" class="nav-link">HTML 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-pro/" class="nav-link">HTML5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-base/" class="nav-link">CSS 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-pro/" class="nav-link">CSS3 / CSS4</a></li></ul></li><li class="dropdown-item"><h4>JS 基础与进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/es-next/01 let 变量和 const 常量.html" class="nav-link">ES-Next</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/typescript/00 基础知识.html" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/jquery/" class="nav-link">JQuery</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/browser/DOM.html" class="nav-link">浏览器原理</a></li></ul></li><li class="dropdown-item"><h4>项目包管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/npm/" class="nav-link">NPM</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/yarn/" class="nav-link">YARN</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/learn/" class="nav-link">LEARN</a></li></ul></li><li class="dropdown-item"><h4>团队协作</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/code-format/" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/tools/" class="nav-link">开发工具链</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端中级" class="dropdown-title"><span class="title">前端中级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>移动端开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/h5/" class="nav-link">H5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/uni-app/" class="nav-link">Uni-App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/react-native/" class="nav-link">React Native</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/fullter/" class="nav-link">Fullter</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/wechat/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/weex/" class="nav-link">Weex</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/mpvue/" class="nav-link">MpVue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/pwa/" class="nav-link">PWA</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/native-app/" class="nav-link">Native App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/hybird-app/" class="nav-link">Hybird App</a></li></ul></li><li class="dropdown-item"><h4>开发框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-base/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-element-admin/" class="nav-link">Vue-Element-Admin</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/react-base/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>NodeJS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/node-base/" class="nav-link">Node 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/express.html" class="nav-link">Express</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/koa.html" class="nav-link">Koa</a></li></ul></li><li class="dropdown-item"><h4>面试相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/business/" class="nav-link">业务开发</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/topic/" class="nav-link">面试题</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/live/" class="nav-link">记录</a></li><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/economics/" class="nav-link">经济学</a></li></ul></div></div><div class="nav-item"><a href="/whole-stack-note/my-resume.html" class="nav-link">Resume</a></div> <a href="https://github.com/ErrorJe" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/whole-stack-note/p4/es-next/01 块级作用域.html" class="sidebar-link">块级作用域</a></li><li><a href="/whole-stack-note/p4/es-next/02 数值的新特性.html" class="sidebar-link">数值的新特性</a></li><li><a href="/whole-stack-note/p4/es-next/03 字符串的新特性.html" class="sidebar-link">字符串的新特性</a></li><li><a href="/whole-stack-note/p4/es-next/04 数组的新特性.html" class="sidebar-link">数组的新特性</a></li><li><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html" class="active sidebar-link">对象的新特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html#新特性" class="sidebar-link">新特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html#基本语法" class="sidebar-link">基本语法</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html#属性的可枚举性和遍历" class="sidebar-link">属性的可枚举性和遍历</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html#增强原型对象" class="sidebar-link">增强原型对象</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html#对象的扩展运算符" class="sidebar-link">对象的扩展运算符</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html#链判断运算符" class="sidebar-link">链判断运算符 ?.</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html#null-判断运算符" class="sidebar-link">null 判断运算符 ??</a></li></ul></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html#常用-api" class="sidebar-link">常用 API</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html#深浅拷贝" class="sidebar-link">深浅拷贝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html#浅拷贝" class="sidebar-link">浅拷贝</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/es-next/05 对象的新特性.html#深拷贝" class="sidebar-link">深拷贝</a></li></ul></li></ul></li><li><a href="/whole-stack-note/p4/es-next/06 函数的新特性.html" class="sidebar-link">函数的新特性</a></li><li><a href="/whole-stack-note/p4/es-next/07 解构赋值（脱壳）.html" class="sidebar-link">解构赋值 destructure（脱壳）</a></li><li><a href="/whole-stack-note/p4/es-next/08 class 类.html" class="sidebar-link">class 类</a></li><li><a href="/whole-stack-note/p4/es-next/09 Set 和 Map 数据结构.html" class="sidebar-link">Set 和 Map 数据结构</a></li><li><a href="/whole-stack-note/p4/es-next/10 Promise 和 async_await.html" class="sidebar-link">Promise 和 async/await</a></li><li><a href="/whole-stack-note/p4/es-next/11 Proxy 和 Reflect 代理对象.html" class="sidebar-link">Proxy 和 Reflect 代理对象</a></li><li><a href="/whole-stack-note/p4/es-next/12 Generator 异步迭代器.html" class="sidebar-link">Generator 异步迭代器</a></li><li><a href="/whole-stack-note/p4/es-next/13 前端模块化.html" class="sidebar-link">前端模块化</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="对象的新特性"><a href="#对象的新特性" class="header-anchor">#</a> 对象的新特性</h1> <h2 id="新特性"><a href="#新特性" class="header-anchor">#</a> 新特性</h2> <h3 id="基本语法"><a href="#基本语法" class="header-anchor">#</a> 基本语法</h3> <ul><li>简略赋值</li> <li>属性名动态表达式</li> <li>方法名 name</li> <li>可枚举属性遍历</li> <li>对象属性取值</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1 简略赋值</span>
<span class="token keyword">let</span> birth <span class="token operator">=</span> <span class="token string">'2000/01/01'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  birth <span class="token comment">//等同于birth: birth</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 对于函数也是一样</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ES5 写法</span>
  <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  
  <span class="token comment">// ES6 写法</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 通过 ES6 简写的方法，有 this.name 属性，这里就是 'fn' 字符串</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2 属性名表达式（可计算属性名）</span>
<span class="token keyword">let</span> propKey <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>propKey<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许 [] 内写变量，相当于是动态赋值</span>
  <span class="token punctuation">[</span><span class="token string">'a'</span> <span class="token operator">+</span> <span class="token string">'bc'</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">123</span> <span class="token comment">// ES5 的拼接写法</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 3 方法的名字</span>
obj<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>name

<span class="token comment">// 4 对象属性取值</span>
obj<span class="token punctuation">.</span>xxx <span class="token comment">// 属性key只包含字母和下划线</span>
obj<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token string">'xxx'</span><span class="token punctuation">]</span> <span class="token comment">// 属性key，可以取所有情况</span>
obj<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// 假设该属性key，就是数字2</span>
</code></pre></div><h3 id="属性的可枚举性和遍历"><a href="#属性的可枚举性和遍历" class="header-anchor">#</a> 属性的可枚举性和遍历</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1 属性遍历（可枚举）</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>attr <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="查看对象属性的描述对象"><a href="#查看对象属性的描述对象" class="header-anchor">#</a> 查看对象属性的描述对象</h4> <p><code>Object.getOwnPropertyDescriptor</code> 获取到一个描述对象</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//  {</span>
<span class="token comment">//    value: 123,</span>
<span class="token comment">//    writable: true,</span>
<span class="token comment">//    enumerable: true, 可枚举性</span>
<span class="token comment">//    configurable: true</span>
<span class="token comment">//  }</span>
</code></pre></div><p>现在有4个操作会直接忽略不可枚举的属性：前三个是 ES5 的，最后一个是 ES6 的</p> <ul><li><code>for...in</code>循环：只遍历对象自身的和继承的可枚举的属性。</li> <li><code>Object.keys()</code>：返回对象自身的所有可枚举的属性的键名。</li> <li><code>JSON.stringify()</code>：只串行化对象自身的可枚举的属性。</li> <li><code>Object.assign()</code>： 忽略<code>enumerable</code>为<code>false</code>的属性，只拷贝对象自身的可枚举的属性。</li></ul> <h3 id="增强原型对象"><a href="#增强原型对象" class="header-anchor">#</a> 增强原型对象</h3> <h4 id="对象继承原型-proto"><a href="#对象继承原型-proto" class="header-anchor">#</a> 对象继承原型 proto</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>age<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 继承 obj1 作为原型，方法1</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span> obj1<span class="token punctuation">)</span>

<span class="token comment">// 方法2.与上面写法作用是一样的。</span>
obj2<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> obj1

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><h4 id="原型方法"><a href="#原型方法" class="header-anchor">#</a> 原型方法</h4> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// 返回任意对象的原型</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> fn<span class="token punctuation">)</span> <span class="token comment">// 设置任意对象的原型</span>
</code></pre></div><h4 id="调用父级（原型）属性或方法-super"><a href="#调用父级（原型）属性或方法-super" class="header-anchor">#</a> 调用父级（原型）属性或方法 super</h4> <p><code>super</code> 就是 <code>Object.getPrototypeOf(this)</code> 的值</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>age<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">getFood</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'面包'</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 继承 obj1</span>
  __proto__<span class="token operator">:</span> obj1<span class="token punctuation">,</span>
  <span class="token comment">// 覆盖 从原型中继承的同名方法</span>
  <span class="token function">getFood</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// super 调用父级(原型)方法</span>
    <span class="token keyword">return</span> <span class="token string">'水果'</span><span class="token operator">+</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getFood</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj3<span class="token punctuation">.</span><span class="token function">getFood</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 水果面包</span>
</code></pre></div><h3 id="对象的扩展运算符"><a href="#对象的扩展运算符" class="header-anchor">#</a> 对象的扩展运算符</h3> <h4 id="解构赋值"><a href="#解构赋值" class="header-anchor">#</a> 解构赋值</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1 读取还未被读取的属性，也就是剩余部分。所以要放最后的位置</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> a<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span>
<span class="token comment">// 注意对 Null 和 Undefined 的解构，因为无法转为对象所以报错</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token comment">// 2 解构引用类型是浅拷贝，进行修改会影响原先的对象</span>
<span class="token comment">// 同时不会把原型对象的属性给拷贝过来</span>
<span class="token keyword">let</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token operator">...</span>o3 <span class="token punctuation">}</span> <span class="token operator">=</span> o2<span class="token punctuation">;</span>
</code></pre></div><h4 id="扩展运算"><a href="#扩展运算" class="header-anchor">#</a> 扩展运算</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1 数组是特殊的对象，所以也可以用</span>
<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
foo <span class="token comment">// {0: &quot;a&quot;, 1: &quot;b&quot;, 2: &quot;c&quot;}</span>

<span class="token comment">// 2 自动转换不是对象的值为对象</span>
<span class="token comment">// 等同于 {...Object(1)},会自动转为数值的包装对象Number{1}</span>
<span class="token comment">// 由于该对象没有自身属性，所以返回一个空对象。</span>
<span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">.1</span><span class="token punctuation">}</span> <span class="token comment">// {}, </span>

<span class="token comment">// 3 等于使用了 Object.assign</span>
<span class="token comment">// 下面两句完全一样</span>
<span class="token keyword">let</span> aClone <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> aClone <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 4 合并对象，下面两句意思一样</span>
<span class="token comment">// 要注意，后面合并进来的属性会覆盖前面同名属性</span>
<span class="token keyword">let</span> aWithOverrides <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> aWithOverrides <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 5 扩展符号后可以是表达式</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token punctuation">(</span>x <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="链判断运算符"><a href="#链判断运算符" class="header-anchor">#</a> 链判断运算符 ?.</h3> <blockquote><p>最新版 Chrome 79 或者 opera 65 以上才被支持使用</p></blockquote> <p>使用场景就是我们如果要取到某个对象的属性值，首先这个对象得存在，于是我们会这样写</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>attr <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>attrrr <span class="token comment">// 深层的话就很麻烦</span>
</code></pre></div><p>现在新的运算符 <code>?.</code>  一步到位，如果前面那个对象不存在直接返回 <code>undefined</code> ，如果存在就继续向下运算</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> firstName <span class="token operator">=</span> message<span class="token operator">?.</span>body<span class="token operator">?.</span>user<span class="token operator">?.</span>firstName <span class="token operator">||</span> <span class="token string">'default'</span><span class="token punctuation">;</span>

<span class="token comment">// 主要有三种用法</span>
obj<span class="token operator">?.</span>prop <span class="token comment">// 对象属性</span>
obj<span class="token operator">?.</span><span class="token punctuation">[</span>expr<span class="token punctuation">]</span> <span class="token comment">// 同上</span>
func<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token comment">// 函数或对象方法的调用</span>
arr<span class="token operator">?.</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token comment">// 索引</span>
</code></pre></div><p>当然也会有一些问题需要注意</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1 短路机制：若 a 是 undefined/null 就停止运算，也就是左侧一旦为真，右侧不再计算</span>
a<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token operator">++</span>x<span class="token punctuation">]</span> <span class="token comment">// 与下相等</span>
a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> a<span class="token punctuation">[</span><span class="token operator">++</span>x<span class="token punctuation">]</span>

<span class="token comment">// 2 只对圆括号内部产生影响</span>
<span class="token punctuation">(</span>a<span class="token operator">?.</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span>c <span class="token comment">// 等价于， .c 总是执行。所以一般来说使用?.运算符的场合，不应该使用圆括号</span>
<span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> a<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span>c

<span class="token comment">// 3 报错的情况，一些写法是被禁止的，会报错</span>
<span class="token keyword">new</span> <span class="token class-name">a</span><span class="token operator">?.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 构造函数</span>
<span class="token keyword">super</span><span class="token operator">?.</span>foo <span class="token comment">// 左侧是 super</span>
a<span class="token operator">?.</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">{b}</span><span class="token template-punctuation string">`</span></span> <span class="token comment">// 右侧有模板字符串</span>
a<span class="token operator">?.</span>b <span class="token operator">=</span> c <span class="token comment">// 用于赋值运算</span>
<span class="token comment">// 被解析成foo ? .3 : 0</span>
<span class="token comment">// 如果?.后面紧跟一个十进制数字，那么?.不再被看成是一个完整的运算符</span>
<span class="token comment">// 那个小数点会归属于后面的十进制数字，形成一个小数</span>
foo<span class="token operator">?</span><span class="token number">.3</span><span class="token operator">:</span><span class="token number">0</span> 
</code></pre></div><h3 id="null-判断运算符"><a href="#null-判断运算符" class="header-anchor">#</a> null 判断运算符 ??</h3> <p>它的行为类似<code>||</code>，但是只有运算符左侧的值为<code>null</code>或<code>undefined</code>时，才会返回右侧的值。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> headerText <span class="token operator">=</span> response<span class="token punctuation">.</span>settings<span class="token punctuation">.</span>headerText <span class="token operator">??</span> <span class="token string">'Hello, world!'</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="常用-api"><a href="#常用-api" class="header-anchor">#</a> 常用 API</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1 判断相等</span>
<span class="token operator">==</span> <span class="token comment">// 会转换类型</span>
<span class="token operator">===</span> <span class="token comment">// 存在的问题。NaN ！== NaN， +0 === -0</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true.解决以上问题</span>

<span class="token comment">// 2 对象合并:浅拷贝</span>
<span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span>

<span class="token comment">// 应用1：给对象添加属性</span>
<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 应用2：给对象添加方法，如给原型对象添加几个方法</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">SomeClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ···
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">anotherMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ···
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 应用3 克隆对象</span>
<span class="token keyword">function</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token parameter">origin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> origin<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 应用4 合并多个对象</span>
<span class="token keyword">const</span> <span class="token function-variable function">merge</span> <span class="token operator">=</span>
  <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>sources</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">...</span>sources<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 应用5 属性默认值</span>
<span class="token keyword">const</span> Defualt <span class="token operator">=</span> <span class="token punctuation">{</span>
  log<span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token constant">DEFAULTS</span><span class="token punctuation">)</span>


<span class="token comment">// 3 取代 __proto__ 的读写方法</span>
bject<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>_thisObj<span class="token punctuation">)</span>
<span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> proto<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 4 对象取值</span>
Object<span class="token punctuation">.</span>keys <span class="token comment">// 键名数字</span>
Object<span class="token punctuation">.</span>values <span class="token comment">// 键值数组</span>
Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 键值对数组 [ [&quot;foo&quot;, &quot;bar&quot;], [&quot;baz&quot;, 42] ]</span>
Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// entries 的逆操作</span>
</code></pre></div><h2 id="深浅拷贝"><a href="#深浅拷贝" class="header-anchor">#</a> 深浅拷贝</h2> <h3 id="浅拷贝"><a href="#浅拷贝" class="header-anchor">#</a> 浅拷贝</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// es 5 的方式</span>
<span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// 遇到原型就返回了，原型 key 都是放在很后面</span>
  obj2<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// es6 方式</span>
obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>obj1<span class="token punctuation">}</span>
</code></pre></div><h3 id="深拷贝"><a href="#深拷贝" class="header-anchor">#</a> 深拷贝</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'wjy'</span><span class="token punctuation">,</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span>
        city<span class="token operator">:</span> <span class="token string">'ningbo'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 浅拷贝 - 只是复制了对象引用，本质上指向同一片内存地址</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span> obj1<span class="token punctuation">)</span>
obj2<span class="token punctuation">.</span>home<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string">'xiangshan'</span> <span class="token comment">// 尝试更改值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>home<span class="token punctuation">.</span>city<span class="token punctuation">,</span> obj2<span class="token punctuation">.</span>home<span class="token punctuation">.</span>city<span class="token punctuation">)</span> <span class="token comment">// 同时被修改</span>

<span class="token comment">// 深拷贝 - 复制值到自己的内存中，创建新的引用</span>
<span class="token keyword">let</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 只能处理数组和对象。一般场景使用。对循环引用的情况不支持</span>
obj3 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span> 
obj3<span class="token punctuation">.</span>home<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string">'beijing'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj3<span class="token punctuation">.</span>home<span class="token punctuation">.</span>city<span class="token punctuation">,</span> obj2<span class="token punctuation">.</span>home<span class="token punctuation">.</span>city<span class="token punctuation">)</span> <span class="token comment">// 值不一样了</span>

<span class="token comment">// 深拷贝 - 使用递归赋值(这里只考虑对象，数组和其他类型数据需要另外判断)</span>
<span class="token keyword">function</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// origin 要被拷贝的对象</span>
  <span class="token comment">// 过滤一些数据类型</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> obj
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token comment">// 返回一个新的正则实例</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 不直接创建空对象目的：克隆的结果和之前保持相同的所属类</span>
  <span class="token keyword">let</span> newObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">obj<span class="token punctuation">.</span>constructor</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 只克隆对象自己的属性</span>
   	newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> newObj
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj4 <span class="token operator">=</span> <span class="token function">clone</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>
obj4<span class="token punctuation">.</span>home<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string">'shanghai'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj4<span class="token punctuation">.</span>home<span class="token punctuation">.</span>city<span class="token punctuation">,</span> obj2<span class="token punctuation">.</span>home<span class="token punctuation">.</span>city<span class="token punctuation">)</span> <span class="token comment">// 值也不一样了</span>
</code></pre></div><p>也有简单的深拷贝</p> <blockquote><p>问题就是在函数、正则、日期字符串化时跟预期不一样。函数和正则会转为空对象，日期会变成标准日期格式</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// 转为字符串</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// 转为JS对象</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">2/1/2020, 11:16:18 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/whole-stack-note/p4/es-next/04 数组的新特性.html" class="prev">数组的新特性</a></span> <span class="next"><a href="/whole-stack-note/p4/es-next/06 函数的新特性.html">函数的新特性</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/whole-stack-note/assets/js/app.386e2e00.js" defer></script><script src="/whole-stack-note/assets/js/2.6d170185.js" defer></script><script src="/whole-stack-note/assets/js/21.c25bfdec.js" defer></script>
  </body>
</html>
