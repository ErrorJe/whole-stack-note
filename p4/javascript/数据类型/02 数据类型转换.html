<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据类型转换 | FE 前端研究所</title>
    <meta name="description" content="ErrorJE 直辖 Blog">
    <link rel="icon" href="/whole-stack-note/logo.jpg">
    
    <link rel="preload" href="/whole-stack-note/assets/css/0.styles.91d1f618.css" as="style"><link rel="preload" href="/whole-stack-note/assets/js/app.5511163b.js" as="script"><link rel="preload" href="/whole-stack-note/assets/js/2.6923c2fc.js" as="script"><link rel="preload" href="/whole-stack-note/assets/js/14.5616f715.js" as="script"><link rel="prefetch" href="/whole-stack-note/assets/js/10.e9a3c5f2.js"><link rel="prefetch" href="/whole-stack-note/assets/js/11.4e4b3b24.js"><link rel="prefetch" href="/whole-stack-note/assets/js/12.2e715dbf.js"><link rel="prefetch" href="/whole-stack-note/assets/js/13.14e8c01e.js"><link rel="prefetch" href="/whole-stack-note/assets/js/15.bc648b56.js"><link rel="prefetch" href="/whole-stack-note/assets/js/16.610dd37b.js"><link rel="prefetch" href="/whole-stack-note/assets/js/17.a5b086dc.js"><link rel="prefetch" href="/whole-stack-note/assets/js/18.b0aa7ea3.js"><link rel="prefetch" href="/whole-stack-note/assets/js/19.159da34c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/20.93a4b58a.js"><link rel="prefetch" href="/whole-stack-note/assets/js/21.aaa6aa11.js"><link rel="prefetch" href="/whole-stack-note/assets/js/22.1ba863da.js"><link rel="prefetch" href="/whole-stack-note/assets/js/23.22efba66.js"><link rel="prefetch" href="/whole-stack-note/assets/js/3.cce0d050.js"><link rel="prefetch" href="/whole-stack-note/assets/js/4.1a07879d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/5.11f2374e.js"><link rel="prefetch" href="/whole-stack-note/assets/js/6.f1ef958b.js"><link rel="prefetch" href="/whole-stack-note/assets/js/7.2ddb2d79.js"><link rel="prefetch" href="/whole-stack-note/assets/js/8.2ad0008d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/9.70001d07.js">
    <link rel="stylesheet" href="/whole-stack-note/assets/css/0.styles.91d1f618.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/whole-stack-note/" class="home-link router-link-active"><!----> <span class="site-name">FE 前端研究所</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/whole-stack-note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端初级" class="dropdown-title"><span class="title">前端初级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML / CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-base/" class="nav-link">HTML 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-pro/" class="nav-link">HTML5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-base/" class="nav-link">CSS 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-pro/" class="nav-link">CSS3 / CSS4</a></li></ul></li><li class="dropdown-item"><h4>JS 基础与进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/javascript/" class="nav-link router-link-active">JavaScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/es-next/" class="nav-link">ES-Next</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/typescript/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/jquery/" class="nav-link">JQuery</a></li></ul></li><li class="dropdown-item"><h4>项目包管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/modules/" class="nav-link">前端模块化</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/npm/" class="nav-link">NPM</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/yarn/" class="nav-link">YARN</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/learn/" class="nav-link">LEARN</a></li></ul></li><li class="dropdown-item"><h4>团队协作</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/code-format/" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/tools/vue-press.html" class="nav-link">开发工具链</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/browser/" class="nav-link">浏览器原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/request/" class="nav-link">网络通信层</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端中级" class="dropdown-title"><span class="title">前端中级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>移动端开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/h5/" class="nav-link">H5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/uni-app/" class="nav-link">Uni-App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/react-native/" class="nav-link">React Native</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/fullter/" class="nav-link">Fullter</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/wechat/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/weex/" class="nav-link">Weex</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/mpvue/" class="nav-link">MpVue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/pwa/" class="nav-link">PWA</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/native-app/" class="nav-link">Native App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/hybird-app/" class="nav-link">Hybird App</a></li></ul></li><li class="dropdown-item"><h4>开发框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-base/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-element-admin/" class="nav-link">Vue-Element-Admin</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/react-base/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>NodeJS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/node-base/" class="nav-link">Node 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/express.html" class="nav-link">Express</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/koa.html" class="nav-link">Koa</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端高级" class="dropdown-title"><span class="title">前端高级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/p6/functional/" class="nav-link">函数式编程</a></li><li class="dropdown-item"><h4>Vue 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vuex 原理</a></li></ul></li><li class="dropdown-item"><h4>React 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Redux 原理</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mongodb/" class="nav-link">Mongodb</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/redis/" class="nav-link">Redis</a></li></ul></li><li class="dropdown-item"><h4>前端工程化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/gulp/" class="nav-link">Gulp</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/mock-server/" class="nav-link">Mock Server</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/icon-font/" class="nav-link">IconFont</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/axios-api/" class="nav-link">Axios 与 API 管理</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/performance/" class="nav-link">性能优化</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/test/" class="nav-link">自动化测试</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/deployment/" class="nav-link">自动化部署与运维</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/network/" class="nav-link">网络协议与安全</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/algorithms/" class="nav-link">数据结构与算法</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/patterns/" class="nav-link">设计模式</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端基础" class="dropdown-title"><span class="title">后端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/back/java-se/" class="nav-link">JAVA SE</a></li><li class="dropdown-item"><h4>Spring 全家桶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-base/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-boot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-cloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>包管理工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/gradle/" class="nav-link">Gradle</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/sql/" class="nav-link">SQL 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/performance/" class="nav-link">数据库高级优化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端进阶" class="dropdown-title"><span class="title">后端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>服务器部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/mac/" class="nav-link">Max</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/nginx/" class="nav-link">Nginx</a></li></ul></li><li class="dropdown-item"><h4>搜索引擎</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/search/elastic-search/" class="nav-link">Elastic Search</a></li></ul></li><li class="dropdown-item"><h4>RPC 框架和中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/dubbo/" class="nav-link">Dubbo</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rabbit-mq/" class="nav-link">RabbitMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rockert-mq/" class="nav-link">RocketMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/active-mq/" class="nav-link">ActiveMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/kafka/" class="nav-link">Kafka</a></li></ul></li><li class="dropdown-item"><h4>虚拟化容器</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/k8s/" class="nav-link">K8S</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/live/" class="nav-link">记录</a></li><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/economics/" class="nav-link">经济学</a></li></ul></div></div><div class="nav-item"><a href="/whole-stack-note/my-resume.html" class="nav-link">Resume</a></div> <a href="https://github.com/ErrorJe" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/whole-stack-note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端初级" class="dropdown-title"><span class="title">前端初级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML / CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-base/" class="nav-link">HTML 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-pro/" class="nav-link">HTML5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-base/" class="nav-link">CSS 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-pro/" class="nav-link">CSS3 / CSS4</a></li></ul></li><li class="dropdown-item"><h4>JS 基础与进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/javascript/" class="nav-link router-link-active">JavaScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/es-next/" class="nav-link">ES-Next</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/typescript/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/jquery/" class="nav-link">JQuery</a></li></ul></li><li class="dropdown-item"><h4>项目包管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/modules/" class="nav-link">前端模块化</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/npm/" class="nav-link">NPM</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/yarn/" class="nav-link">YARN</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/learn/" class="nav-link">LEARN</a></li></ul></li><li class="dropdown-item"><h4>团队协作</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/code-format/" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/tools/vue-press.html" class="nav-link">开发工具链</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/browser/" class="nav-link">浏览器原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/request/" class="nav-link">网络通信层</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端中级" class="dropdown-title"><span class="title">前端中级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>移动端开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/h5/" class="nav-link">H5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/uni-app/" class="nav-link">Uni-App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/react-native/" class="nav-link">React Native</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/fullter/" class="nav-link">Fullter</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/wechat/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/weex/" class="nav-link">Weex</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/mpvue/" class="nav-link">MpVue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/pwa/" class="nav-link">PWA</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/native-app/" class="nav-link">Native App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/hybird-app/" class="nav-link">Hybird App</a></li></ul></li><li class="dropdown-item"><h4>开发框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-base/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-element-admin/" class="nav-link">Vue-Element-Admin</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/react-base/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>NodeJS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/node-base/" class="nav-link">Node 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/express.html" class="nav-link">Express</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/koa.html" class="nav-link">Koa</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端高级" class="dropdown-title"><span class="title">前端高级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/p6/functional/" class="nav-link">函数式编程</a></li><li class="dropdown-item"><h4>Vue 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vuex 原理</a></li></ul></li><li class="dropdown-item"><h4>React 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Redux 原理</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mongodb/" class="nav-link">Mongodb</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/redis/" class="nav-link">Redis</a></li></ul></li><li class="dropdown-item"><h4>前端工程化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/gulp/" class="nav-link">Gulp</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/mock-server/" class="nav-link">Mock Server</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/icon-font/" class="nav-link">IconFont</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/axios-api/" class="nav-link">Axios 与 API 管理</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/performance/" class="nav-link">性能优化</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/test/" class="nav-link">自动化测试</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/deployment/" class="nav-link">自动化部署与运维</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/network/" class="nav-link">网络协议与安全</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/algorithms/" class="nav-link">数据结构与算法</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/patterns/" class="nav-link">设计模式</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端基础" class="dropdown-title"><span class="title">后端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/back/java-se/" class="nav-link">JAVA SE</a></li><li class="dropdown-item"><h4>Spring 全家桶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-base/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-boot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-cloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>包管理工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/gradle/" class="nav-link">Gradle</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/sql/" class="nav-link">SQL 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/performance/" class="nav-link">数据库高级优化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端进阶" class="dropdown-title"><span class="title">后端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>服务器部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/mac/" class="nav-link">Max</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/nginx/" class="nav-link">Nginx</a></li></ul></li><li class="dropdown-item"><h4>搜索引擎</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/search/elastic-search/" class="nav-link">Elastic Search</a></li></ul></li><li class="dropdown-item"><h4>RPC 框架和中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/dubbo/" class="nav-link">Dubbo</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rabbit-mq/" class="nav-link">RabbitMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rockert-mq/" class="nav-link">RocketMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/active-mq/" class="nav-link">ActiveMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/kafka/" class="nav-link">Kafka</a></li></ul></li><li class="dropdown-item"><h4>虚拟化容器</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/k8s/" class="nav-link">K8S</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/live/" class="nav-link">记录</a></li><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/economics/" class="nav-link">经济学</a></li></ul></div></div><div class="nav-item"><a href="/whole-stack-note/my-resume.html" class="nav-link">Resume</a></div> <a href="https://github.com/ErrorJe" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/whole-stack-note/p4/javascript/" class="sidebar-link">JS 历史和介绍</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>数据类型</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/whole-stack-note/p4/javascript/数据类型/00 数据类型.html" class="sidebar-link">JS 数据类型</a></li><li><a href="/whole-stack-note/p4/javascript/数据类型/01 数据类型判断.html" class="sidebar-link">数据类型判断</a></li><li><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html" class="active sidebar-link">数据类型转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#转-boolean-类型" class="sidebar-link">转 Boolean 类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#相等运算符" class="sidebar-link">相等运算符</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#假值" class="sidebar-link">假值</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#关于-new-boolean" class="sidebar-link">关于 new Boolean</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#应用：-运算符判断奇偶数" class="sidebar-link">应用：!!运算符判断奇偶数</a></li></ul></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#number-和-string-互转" class="sidebar-link">Number 和 String 互转</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#string-转-number" class="sidebar-link">String 转 Number</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#number-转-string" class="sidebar-link">Number 转 String</a></li></ul></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#对象转基本类型" class="sidebar-link">对象转基本类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#基础知识" class="sidebar-link">基础知识</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#object-转-string" class="sidebar-link">Object 转 String</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#object-转-number" class="sidebar-link">Object 转 Number</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#object-转-array" class="sidebar-link">Object 转 Array</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#重写-valueof-和-tostring" class="sidebar-link">重写 valueOf 和 toString</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#array-和-string-互转" class="sidebar-link">Array 和 String 互转</a></li></ul></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#包装对象" class="sidebar-link">包装对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#基本知识" class="sidebar-link">基本知识</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#装箱转换" class="sidebar-link">装箱转换</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#拆箱转换" class="sidebar-link">拆箱转换</a></li></ul></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#可变对象和不可变值" class="sidebar-link">可变对象和不可变值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#不可变的基本值" class="sidebar-link">不可变的基本值</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/javascript/数据类型/02 数据类型转换.html#可变的对象引用" class="sidebar-link">可变的对象引用</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>面向对象</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/whole-stack-note/p4/javascript/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="sidebar-link">JS 面向对象</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="数据类型转换"><a href="#数据类型转换" class="header-anchor">#</a> 数据类型转换</h1> <p>JS是弱类型语言，所以在代码中会常见的运算都会先进行类型转换。</p> <p><img src="https://raw.githubusercontent.com/ErrorJe/ErrorJE.github.io/images/img/20200110092256.png" alt=""></p> <p>大部分的转换都简单，复杂的只有 <code>Number</code> 和 <code>String</code> 之间的转换，以及 <code>对象</code> 和 <code>基本类型</code> 之间的转换。</p> <h2 id="转-boolean-类型"><a href="#转-boolean-类型" class="header-anchor">#</a> 转 Boolean 类型</h2> <p>在条件判断时，除了 <code>undefined, null, false, NaN, &quot;&quot;, 0, -0</code> 之外的其他值，都转为 <code>true</code>，包括所有对象</p> <h3 id="相等运算符"><a href="#相等运算符" class="header-anchor">#</a> 相等运算符</h3> <h4 id="和"><a href="#和" class="header-anchor">#</a> == 和 ===</h4> <p>相等运算符（<code>==</code>）和严格相等运算符（<code>===</code>），它们都有缺点</p> <ul><li>前者会自动转换数据类型</li> <li>后者的<code>NaN</code>不等于自身，以及<code>+0</code>等于<code>-0</code>。</li></ul> <p>JavaScript 缺乏一种运算，在所有环境中，只要两个值是一样的，它们就应该相等。</p> <h4 id="object-is"><a href="#object-is" class="header-anchor">#</a> Object.is</h4> <p>是 ES6 提出的&quot;同值相等&quot;算法，用于解决以上运算符的问题。</p> <p>它用来比较两个值是否严格相等，与严格比较运算符（===）的行为基本一致</p> <p>不同之处只有两个：</p> <ul><li><code>+0</code>不等于<code>-0</code></li> <li><code>NaN</code>等于自身</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">+</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">0</span> <span class="token comment">//true</span>
<span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span> <span class="token comment">// false</span>

Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="假值"><a href="#假值" class="header-anchor">#</a> 假值</h3> <p>JS 中的假值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span>
</code></pre></div><p>过滤假值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">compact</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span>

<span class="token comment">// [ 1, 2, 3, 'a', 's', 34 ]</span>
<span class="token function">compact</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'e'</span> <span class="token operator">*</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token string">'s'</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
</code></pre></div><h3 id="关于-new-boolean"><a href="#关于-new-boolean" class="header-anchor">#</a> 关于 new Boolean</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// true， 函数，返回 boolean 类型</span>
<span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key<span class="token operator">:</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 返回对象，永远是真的。</span>
</code></pre></div><p>注意使用 ，当为引用类型时，不能用于判断是不是 true/false，都会为真</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> g<span class="token punctuation">;</span>

<span class="token function">Boolean</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span> c <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token function">Boolean</span><span class="token punctuation">(</span> d <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span> e <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span> f <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span> g <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><h3 id="应用：-运算符判断奇偶数"><a href="#应用：-运算符判断奇偶数" class="header-anchor">#</a> 应用：!!运算符判断奇偶数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>num <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>num <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="number-和-string-互转"><a href="#number-和-string-互转" class="header-anchor">#</a> Number 和 String 互转</h2> <h3 id="string-转-number"><a href="#string-转-number" class="header-anchor">#</a> String 转 Number</h3> <p>多数情况下，直接使用 <code>Number()</code> ，比使用下面2种调用 API 的方式都好。</p> <h4 id="parseint-str-n-解析整数"><a href="#parseint-str-n-解析整数" class="header-anchor">#</a> parseInt(str, n) 解析整数</h4> <p>全局方法，解析整数。忽略字符串前的任意空格，跟数字后任意字符。</p> <ul><li><p>第一位不是空格，也不是数字直接量，则NaN。</p></li> <li><p>遇到'0x'会转为16进制</p></li></ul> <blockquote><p>建议任何情况下，都应该给出第二个参数，来显示表明进制数。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//  n 为进制数，n 参数可选</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'   3.14 sad'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3.14</span>
</code></pre></div><p>若不给第二个参数，则只支持16进制且前缀为“0x”，还忽略非数字字符，也不支持科学计数法。</p> <p><code>parseInt</code> 还是很靠谱的，不要因为下面一些不当用法就觉得是 bug</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">parseInt</span><span class="token punctuation">(</span> <span class="token number">0.000008</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 (&quot;0&quot; 来自于 &quot;0.000008&quot;)</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span> <span class="token number">0.0000008</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8 (&quot;8&quot; 来自于 &quot;8e-7&quot;)</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token number">16</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 250 (&quot;fa&quot; 来自于 &quot;false&quot;)</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span> parseInt<span class="token punctuation">,</span> <span class="token number">16</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 15 (&quot;f&quot; 来自于 &quot;function..&quot;)</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span> <span class="token string">&quot;0x10&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 16</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span> <span class="token string">&quot;103&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><h4 id="parsefloat-str-解析浮点数"><a href="#parsefloat-str-解析浮点数" class="header-anchor">#</a> parseFloat(str) 解析浮点数</h4> <p>直接将源字符串作为十进制来解析，不会引入任何其他进制。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">'0xff'</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">255</span>
</code></pre></div><h4 id="其他方式"><a href="#其他方式" class="header-anchor">#</a> 其他方式</h4> <h5 id="乘以一，-1"><a href="#乘以一，-1" class="header-anchor">#</a> 乘以一，<code>*1</code></h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'3'</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token comment">// 成功转换为数字 3</span>
<span class="token keyword">null</span> <span class="token operator">*</span><span class="token number">1</span> <span class="token comment">// 0</span>
<span class="token comment">// 失败转换。成为 NaN。需要调用 Number.isNaN 判断是否为NaN</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'xx'</span> <span class="token operator">*</span> <span class="token number">1</span> 


<span class="token comment">// 验证方式</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">'xx'</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 返回 boolean</span>
a <span class="token operator">!==</span> a <span class="token comment">// 判断的第二种方式。因为 NaN !== NaN</span>
</code></pre></div><h5 id="加号"><a href="#加号" class="header-anchor">#</a> 加号 <code>+</code></h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">+</span> <span class="token string">'123'</span> <span class="token comment">// 123</span>
<span class="token operator">+</span> <span class="token string">'ds'</span> <span class="token comment">// NaN</span>

</code></pre></div><p>若满足以下条件，则用 + 时将进行字符串拼接操作</p> <ul><li>其中一个操作数是对象或数组，先用 ToPrimitive 抽象操作（valueOf 或 toString）</li> <li>再用 [[DefaultValue]] 以数字作为上下文，所以调用 valueOf</li> <li>但是数组用 valueOf 无法得到基本类型值，所以调用了 toString</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 所以数组的拼接会出现这种情况</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// &quot;1,23,4&quot;</span>
</code></pre></div><h3 id="number-转-string"><a href="#number-转-string" class="header-anchor">#</a> Number 转 String</h3> <h4 id="tostring-n"><a href="#tostring-n" class="header-anchor">#</a> toString(n)</h4> <p>参数 n 表示进制数,范围是 <code>2-32</code>。最后转为字符串</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">17.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'10001'</span>
<span class="token string">'0x'</span> <span class="token operator">+</span> <span class="token number">17.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'0x11'</span>
</code></pre></div><h4 id="tofixed-n"><a href="#tofixed-n" class="header-anchor">#</a> toFixed(n)</h4> <p>n 表示小数点后位数，四舍五入，不足补0。转为字符串</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token number">123.45</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tofixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'123'</span>
</code></pre></div><h4 id="toexponential-n"><a href="#toexponential-n" class="header-anchor">#</a> toExponential(n)</h4> <p>转为科学计数法的字符串， n为小数点后位数，整数部分只有1位</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token number">1223.444</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toExponential</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'1.22e+3'</span>
</code></pre></div><h4 id="toprecision-n"><a href="#toprecision-n" class="header-anchor">#</a> toPrecision(n)</h4> <p>n 表示有效数字位数，若整数部分位数多于指定有效数字位数，则用科学计数法。</p> <p>反之直接使用。转为字符串</p> <blockquote><p>科学计数法，其实是字符串。这样做的目的是为了字符串不会太长。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token number">123.2131</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'1.2e+2'</span>
<span class="token punctuation">(</span><span class="token number">2131.23232</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> ’<span class="token number">2131.2</span>‘
</code></pre></div><h2 id="对象转基本类型"><a href="#对象转基本类型" class="header-anchor">#</a> 对象转基本类型</h2> <blockquote><p>在JS中，一切皆对象，即所有的数据、对象都可以使用方法。</p> <p>除了 null 和 undefined 是不能拥有方法的。</p></blockquote> <h3 id="基础知识"><a href="#基础知识" class="header-anchor">#</a> 基础知识</h3> <p>在默认类型转换时，对象中有3个内置执行方法</p> <ul><li><p><code>Symbol.toPrimitive()</code> 覆盖原有行为，ES6后使用</p></li> <li><p><code>valueOf()</code>， 对象转到数字</p></li> <li><ul><li>一般对象都是复合值，所以默认是返回对象本身</li> <li>数组、函数和正则都是默认返回对象本身</li></ul></li> <li><p><code>toString()</code>， 对象转到字符串</p></li></ul> <h3 id="object-转-string"><a href="#object-转-string" class="header-anchor">#</a> Object 转 String</h3> <p>只有 Date 对象才用，因为日期<code>Date</code>类，是唯一预先定义了有意义的 <code>toString()</code>  和 <code>valueOf()</code>方法。</p> <p>它的转换步骤就是：先用 toString()， 再用 alueOf()， 最后 JS 返回字符串。否则报错</p> <h3 id="object-转-number"><a href="#object-转-number" class="header-anchor">#</a> Object 转 Number</h3> <blockquote><p>非 <code>Date</code> 日期对象之外的对象用</p></blockquote> <p>先用 <code>valueOf()</code>， 再用 <code>toString()</code>，最后返回数字，否则报错</p> <div class="language-js extra-class"><pre class="language-js"><code>x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>， 
<span class="token operator">-</span> 先用valueOf返回对象本身，空数组 <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token operator">-</span> <span class="token function">再用toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>， 返回空字符串 <span class="token string">''</span>
<span class="token operator">-</span> 然后<span class="token constant">JS</span>再转换成数字 <span class="token number">0</span>
</code></pre></div><h3 id="object-转-array"><a href="#object-转-array" class="header-anchor">#</a> Object 转 Array</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1 原对象</span>
<span class="token keyword">const</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Chaoyang Gan&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Engineer&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;subject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Maths&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2 拿到对象 Key 数组</span>
<span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span> <span class="token comment">// [&quot;name&quot;, &quot;title&quot;, &quot;subject&quot;]</span>

<span class="token comment">// 3 map 方法转换成（对象数组）</span>
<span class="token keyword">const</span> list <span class="token operator">=</span> keys<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    key<span class="token punctuation">,</span> value<span class="token operator">:</span> object<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 3.1 结果</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span>
<span class="token comment">//=&gt; [</span>
<span class="token comment">// {key: &quot;name&quot;, value: &quot;Chaoyang Gan&quot;},</span>
<span class="token comment">// {key: &quot;title&quot;, value: &quot;Engineer&quot;},</span>
<span class="token comment">// {key: &quot;subject&quot;, value: &quot;Maths&quot;}</span>
<span class="token comment">// ]</span>

<span class="token comment">// 4 也可以转换成（二维数组）</span>
<span class="token keyword">const</span> pairs <span class="token operator">=</span> keys<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span> key<span class="token punctuation">,</span> object<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 4.1 结果</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pairs<span class="token punctuation">)</span>
<span class="token comment">// =&gt; [</span>
<span class="token comment">// [&quot;name&quot;, &quot;Chaoyang Gan&quot;],</span>
<span class="token comment">// [&quot;title&quot;, &quot;Engineer&quot;],</span>
<span class="token comment">// [&quot;subject&quot;, &quot;Maths&quot;]</span>
<span class="token comment">// ]</span>
</code></pre></div><h3 id="重写-valueof-和-tostring"><a href="#重写-valueof-和-tostring" class="header-anchor">#</a> 重写 valueOf 和 toString</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">toString</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'error'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">valueOf</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">alert</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment">// error。更加倾向于 toString </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> foo<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><h4 id="面试题：a-1-a-2-a-3-可能为true吗"><a href="#面试题：a-1-a-2-a-3-可能为true吗" class="header-anchor">#</a> 面试题：a===1&amp;&amp;a===2&amp;&amp;a===3 可能为true吗</h4> <p>如果a是数字，是不可能为true的。所以肯定是从类型转换上来考虑</p> <h5 id="的宽松匹配"><a href="#的宽松匹配" class="header-anchor">#</a> == 的宽松匹配</h5> <blockquote><p>a==1 &amp;&amp; a==2 &amp;&amp; a==3</p></blockquote> <p>要满足这样一个表达式：</p> <ul><li>首先 <code>a</code> 本身就不是一个简单数值类型。内部一定进行了 <code>+1</code> 的逻辑处理。</li></ul> <p>这里先要了解 JS 对象中有<strong>两个原型方法</strong></p> <ul><li>原型，可以暂时理解为 Java 中的抽象类。</li> <li>这两个方法是 <code>valueOf</code> 和 <code>toString</code></li></ul> <h5 id="关于-的一些规则"><a href="#关于-的一些规则" class="header-anchor">#</a> 关于 == 的一些规则</h5> <ul><li>对象 == 字符串，会让对象 .toString 转为字符串，再用 Number 转为数字</li> <li>null == undefined 相等，但是与其他值不相等</li> <li>NaN == NaN 不相等</li> <li>剩下的情况都转为数字比较</li></ul> <h6 id="如何触发这2个方法？"><a href="#如何触发这2个方法？" class="header-anchor">#</a> <strong>如何触发这2个方法？</strong></h6> <p>如现在的情况，使用 <code>==</code> 让 <code>a</code> 不得不进行类型转换去与 <code>1/2/3</code> 进行比较时，就会触发这2个方法。</p> <h6 id="这2个方法的触发顺序？"><a href="#这2个方法的触发顺序？" class="header-anchor">#</a> <strong>这2个方法的触发顺序？</strong></h6> <p>若两个方法同时存在， 先执行 <code>valueOf</code> 若返回的不是基本类型数据则再执行 <code>toString</code> 方法。</p> <p>解决该题目本身，只需要重写其中一个方法就可以了。两者选其一</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 改写 toString</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>value<span class="token operator">++</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 改写 valueOf</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>value<span class="token operator">++</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_2）-的严格匹配"><a href="#_2）-的严格匹配" class="header-anchor">#</a> 2）=== 的严格匹配</h5> <p>在 <code>===</code> 严格匹配，还要进行类型的校验。所以是不会触发上述的两个原型方法的。</p> <p>那就得继续从对象本身找方法了。</p> <p>在 JS 对象中，能够做到这种行为的方式有很多，特别是在 ES6 之后。</p> <p>就跟 <code>javabean</code> 一样，一个字段有 <code>get/set</code> 方法，这在 JS 中也是通用的</p> <p>这里仅介绍一种主流方式 <code>Object.defineProperty</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token number">0</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">++</span>value
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="array-和-string-互转"><a href="#array-和-string-互转" class="header-anchor">#</a> Array 和 String 互转</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'1,2,3,4,5'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span> <span class="token comment">// [ 1, 2, 3, 4, 5 ]， 字符串转数组</span>
<span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 1,2,3,4,5，数组转字符串</span>
</code></pre></div><h2 id="包装对象"><a href="#包装对象" class="header-anchor">#</a> 包装对象</h2> <h3 id="基本知识"><a href="#基本知识" class="header-anchor">#</a> 基本知识</h3> <p>除了 <code>undefined</code> 和 <code>null</code> 之外， 其他基本类型都要对应的包装函数， 因此在 <code>null</code> 和 <code>undefined</code> 上访问属性是会报错的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error</span>
</code></pre></div><h4 id="临时对象"><a href="#临时对象" class="header-anchor">#</a> 临时对象</h4> <p>在存取字符串、数字或布尔值的属性时， 创建的临时对象。</p> <blockquote><p>根据上面的定义，他们只是在用的时候临时存在，而在语句结束后就进行销毁这临时对象。</p> <p>简单的说就是能够使用他们的方法，但是他们并不是对象，只是在用他们方法的时候生成了临时对象。</p> <p>所以在一些要求高性能的地方，要避免频繁做装箱转换。</p></blockquote> <h4 id="获取包装对象的私有class属性"><a href="#获取包装对象的私有class属性" class="header-anchor">#</a> 获取包装对象的私有Class属性</h4> <p>每一类包装对象都有私有的class属性，且在JS中没有办法更改他们。</p> <p>需要注意，call本身会产生装箱操作，最后还是要配合 typeof 来区分基本类型还是对象类型。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 所有用 typeof 返回值为 object 的对象都包含一个内部属性 [[class]]</span>
<span class="token comment">// 可以用下面的方式来查看</span>
<span class="token keyword">var</span> symbolObject <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//[object Symbol]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>symbolObject<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="装箱转换"><a href="#装箱转换" class="header-anchor">#</a> 装箱转换</h3> <p>指的是把基本类型（Number， String， Boolean， Symbol）转换为对应的对象。</p> <h4 id="new-显式创建对象"><a href="#new-显式创建对象" class="header-anchor">#</a> new 显式创建对象</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span>  s <span class="token operator">=</span> <span class="token string">'s'</span>
<span class="token keyword">var</span> <span class="token constant">S</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">var</span> <span class="token constant">N</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token keyword">var</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
</code></pre></div><p>尽管这样创建之后，他们的值是一样的，但实际上类型是不一样的。</p> <div class="language-js extra-class"><pre class="language-js"><code>s <span class="token operator">==</span> <span class="token constant">S</span> <span class="token comment">// true</span>
s <span class="token operator">===</span> <span class="token constant">S</span> <span class="token comment">// false</span>
</code></pre></div><h4 id="symbol-函数装箱"><a href="#symbol-函数装箱" class="header-anchor">#</a> Symbol 函数装箱</h4> <p>全局的 <code>Symbol</code> 函数无法使用<code>new</code> 来调用，但是可以用装箱机制得到 Symbol 对象。利用函数的 <code>call</code> 方法强迫产生装箱。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 定义函数，调用 call 方法到一个Symbol类型的值上，就产生了 SymbolObject</span>
<span class="token keyword">var</span> symbolObject <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 方法2，可以显示调用 Object 调用装箱能力。结果都是一样的</span>
<span class="token keyword">var</span> symbolObject2 <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> symbolObject<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//object</span>
<span class="token comment">//true, 的确是 Symbol 类的实例</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>symbolObject <span class="token keyword">instanceof</span> <span class="token class-name">Symbol</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>symbolObject<span class="token punctuation">.</span>constructor <span class="token operator">==</span> Symbol<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre></div><h3 id="拆箱转换"><a href="#拆箱转换" class="header-anchor">#</a> 拆箱转换</h3> <h4 id="隐式类型转换"><a href="#隐式类型转换" class="header-anchor">#</a> 隐式类型转换</h4> <h5 id="object-转-number-string"><a href="#object-转-number-string" class="header-anchor">#</a> Object 转 Number/String</h5> <p>对象到 String 或者是 Number 都是先拆箱后转换。</p> <ul><li>通过拆箱，将对象变为基本类型</li> <li>然后再转换为对应的 String 或 Number</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 定义对象 o，且重写2个方法。</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">valueOf</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;valueOf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">toString</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;toString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

o <span class="token operator">*</span> <span class="token number">2</span> <span class="token comment">// Number 类型拆箱</span>
<span class="token comment">// 拆箱尝试调用 valueOf 和 toString 来获得基本类型。若他们都不存在，则产生类型错误 TypeError</span>
<span class="token comment">// 下面是先执行 valueOf, 再执行 toString，最后执行TypeError，说明拆箱转换失败。</span>
<span class="token comment">// valueOf</span>
<span class="token comment">// toString</span>
<span class="token comment">// TypeError</span>

o <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token comment">//String 类型拆箱，会先调用 toString</span>
<span class="token comment">// toString</span>
<span class="token comment">// valueOf</span>
<span class="token comment">// TypeError</span>
</code></pre></div><h4 id="symbol-toprimitive"><a href="#symbol-toprimitive" class="header-anchor">#</a> Symbol.toPrimitive</h4> <blockquote><p>ES6之后，允许对象显式指定 Symbol.toPrimitive， 来覆盖原有行为</p> <p>可以用于 Object 转 基本类型</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">valueOf</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;valueOf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">toString</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;toString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

o<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;toPrimitive&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">}</span>


console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// toPrimitive</span>
<span class="token comment">// hello</span>
</code></pre></div><h4 id="json-stringify-序列化成-json-字符串"><a href="#json-stringify-序列化成-json-字符串" class="header-anchor">#</a> JSON.stringify 序列化成 JSON 字符串</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 参数1，需要序列化的对象</span>
<span class="token comment">// 参数2：数组或函数，决定序列化哪些属性</span>
<span class="token comment">// 若是函数，则先针对对象本身调用一次，然后对每个属性调用一次函数</span>
<span class="token comment">// 每次传递 k,v</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span> a<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">!==</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 参数3：打印格式化，缩进的数量或者占位符</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span> a<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;-----&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;{</span>
<span class="token comment">// -----&quot;b&quot;: 42,</span>
<span class="token comment">// -----&quot;c&quot;: &quot;42&quot;,</span>
<span class="token comment">// -----&quot;d&quot;: [</span>
<span class="token comment">// ----------1,</span>
<span class="token comment">// ----------2,</span>
<span class="token comment">// ----------3</span>
<span class="token comment">// -----]</span>
<span class="token comment">// }&quot;</span>
</code></pre></div><h4 id="转-json"><a href="#转-json" class="header-anchor">#</a> 转 JSON</h4> <p>我们用 <code>JSON.stringify</code> 进行序列化成字符串，而 <code>ToJSON</code> 就是想要返回一个字符串化的安全的 JSON 值，而不是简单的转为字符串</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  val<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 可能是我们想要的结果！</span>
  <span class="token function-variable function">toJSON</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>val<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>
  val<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 可能不是我们想要的结果！</span>
  <span class="token comment">// 是对返回的字符串又做了字符串转化，最终就不是数组本身了</span>
  <span class="token function-variable function">toJSON</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;[&quot;</span> <span class="token operator">+</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>val<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[2,3]&quot;</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;&quot;[2,3]&quot;&quot;</span>
</code></pre></div><h4 id="转-boolean"><a href="#转-boolean" class="header-anchor">#</a> 转 Boolean</h4> <p>假值，用布尔强制转换结果为 false</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">undefined</span>
<span class="token keyword">null</span>
<span class="token boolean">false</span>
<span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">NaN</span>
<span class="token string">&quot;&quot;</span>
</code></pre></div><p>假值对象，布尔转换后是 true</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span> <span class="token boolean">false</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 注意这种用法，但是转换后还是 true</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 也都是真值</span>
</code></pre></div><h4 id="显式类型转换"><a href="#显式类型转换" class="header-anchor">#</a> 显式类型转换</h4> <p>推荐用显示强制类型转换，可读性和维护性高。</p> <p>一般来讲，一元运算符基本可以作为转换符来使用</p> <h5 id="date-转-number"><a href="#date-转-number" class="header-anchor">#</a> Date 转 Number</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> timestamp <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 时间戳</span>
<span class="token keyword">var</span> timestamp <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ES5 加入方法。推荐使用</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 来获得指定时间的时间戳。</span>

<span class="token comment">// 老浏览器的 polyfill</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Date<span class="token punctuation">.</span>now<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Date<span class="token punctuation">.</span><span class="token function-variable function">now</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="运算符"><a href="#运算符" class="header-anchor">#</a> ~ 运算符</h5> <p>这是非操作。字位运算符只适用于 32 位整数，会调用抽象操作 <code>ToInt32</code> 实现。</p> <p>首先执行 <code>ToNumber</code> 转为数字类型，然后执行 ToInt32 转为 32 位数字，后执行字位非操作对每个字位进行反转</p> <p>主要是与如 <code>indexOf</code> 这种失败返回 -1 的方法一起用，对结果反转。只要不是 -1，都是真</p> <blockquote><p>~x 大致等同于 -(x+1)</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span>
<span class="token operator">~</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot;lo&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -4 &lt;-- 真值!</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">~</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot;lo&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// true</span>
    <span class="token comment">// 找到匹配！</span>
<span class="token punctuation">}</span>
<span class="token operator">~</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot;ol&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 &lt;-- 假值!</span>
<span class="token operator">!</span><span class="token operator">~</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot;ol&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h5 id="小数截除"><a href="#小数截除" class="header-anchor">#</a> ~~ 小数截除</h5> <p>第一个 <code>~</code> 将值截除为 32 位整数并反转，第二个再一次反转回到原值，结果仍是 ToInt32 的结果。</p> <p>虽然与 <code>Math.floor</code> 一样，用于取整。但是对于负数的处理有点不同</p> <div class="language-js extra-class"><pre class="language-js"><code>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span> <span class="token operator">-</span><span class="token number">49.6</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -50</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token operator">-</span><span class="token number">49.6</span><span class="token punctuation">;</span> <span class="token comment">// -49</span>
</code></pre></div><h2 id="可变对象和不可变值"><a href="#可变对象和不可变值" class="header-anchor">#</a> 可变对象和不可变值</h2> <p>在 JS 中对象引用是可以进想改变的，而原始值如（String， number等）是不可变的。</p> <h3 id="不可变的基本值"><a href="#不可变的基本值" class="header-anchor">#</a> 不可变的基本值</h3> <p>很多人初看的时候发现，<code>var a = 1</code>, 继续 <code>a = 2</code>，不是改变了吗？</p> <p>其实是每次创建变量的时候，值是保存在了一个内存地址中，然后a指向的是这个地址。</p> <p>当你重新创建变量，也就是改变了a对于内存地址的指向，指向了2，但是1仍然在原来的内存中。这个原有地址中的值（1）无法修改，只能等JS垃圾回收。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">// 定义的时候是一个Boolean</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// y = 'false'， 这里是字符串</span>
x <span class="token comment">// 还是false，boolean类型的数据</span>
</code></pre></div><h3 id="可变的对象引用"><a href="#可变的对象引用" class="header-anchor">#</a> 可变的对象引用</h3> <h4 id="复制一个数组"><a href="#复制一个数组" class="header-anchor">#</a> 复制一个数组</h4> <p>不能简单做 = 处理。这样复制的只是原数组的地址引用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a <span class="token comment">// 复制的是引用地址</span>
b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// 做出修改，此时a[0]也是2。所以这样做有风险</span>
</code></pre></div><h4 id="比较两个数组"><a href="#比较两个数组" class="header-anchor">#</a> 比较两个数组</h4> <p>数组的比较不同于字符串的比较，由于字符串是不可变类型数据，所以比较的时候只要满足每个字符完全相等就可以了。</p> <p>但是数组是引用类型，直接比较，比的是他们的引用地址</p> <h4 id="上面重视情况的解决方案"><a href="#上面重视情况的解决方案" class="header-anchor">#</a> 上面重视情况的解决方案</h4> <ul><li>复制数组：利用遍历来显示复制每一个数组元素到新数组对象中</li> <li>比较数组：先比较两数组的长度，然后通过遍历对比每一个元素的值</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/whole-stack-note/p4/javascript/数据类型/01 数据类型判断.html" class="prev">数据类型判断</a></span> <span class="next"><a href="/whole-stack-note/p4/javascript/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">JS 面向对象</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/whole-stack-note/assets/js/app.5511163b.js" defer></script><script src="/whole-stack-note/assets/js/2.6923c2fc.js" defer></script><script src="/whole-stack-note/assets/js/14.5616f715.js" defer></script>
  </body>
</html>
