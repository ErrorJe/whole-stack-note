<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BOM | FE 前端研究所</title>
    <meta name="description" content="ErrorJE 直辖 Blog">
    <link rel="icon" href="/whole-stack-note/logo.jpg">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    
    <link rel="preload" href="/whole-stack-note/assets/css/0.styles.966634b6.css" as="style"><link rel="preload" href="/whole-stack-note/assets/js/app.7c0edf47.js" as="script"><link rel="preload" href="/whole-stack-note/assets/js/2.6d170185.js" as="script"><link rel="preload" href="/whole-stack-note/assets/js/12.698342be.js" as="script"><link rel="prefetch" href="/whole-stack-note/assets/js/10.ee1c1979.js"><link rel="prefetch" href="/whole-stack-note/assets/js/100.bf5ad57d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/11.2d3a5c7c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/13.bba4ce64.js"><link rel="prefetch" href="/whole-stack-note/assets/js/14.514ef364.js"><link rel="prefetch" href="/whole-stack-note/assets/js/15.9717a3ce.js"><link rel="prefetch" href="/whole-stack-note/assets/js/16.2fbf7d56.js"><link rel="prefetch" href="/whole-stack-note/assets/js/17.e0be6e33.js"><link rel="prefetch" href="/whole-stack-note/assets/js/18.ad531cdc.js"><link rel="prefetch" href="/whole-stack-note/assets/js/19.95fa4b0b.js"><link rel="prefetch" href="/whole-stack-note/assets/js/20.77206337.js"><link rel="prefetch" href="/whole-stack-note/assets/js/21.f65eeaeb.js"><link rel="prefetch" href="/whole-stack-note/assets/js/22.6d194f6c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/23.d99a37eb.js"><link rel="prefetch" href="/whole-stack-note/assets/js/24.796cbc68.js"><link rel="prefetch" href="/whole-stack-note/assets/js/25.678932fa.js"><link rel="prefetch" href="/whole-stack-note/assets/js/26.7de1d270.js"><link rel="prefetch" href="/whole-stack-note/assets/js/27.5655e4df.js"><link rel="prefetch" href="/whole-stack-note/assets/js/28.2638e749.js"><link rel="prefetch" href="/whole-stack-note/assets/js/29.3727f5a2.js"><link rel="prefetch" href="/whole-stack-note/assets/js/3.e21bb9ed.js"><link rel="prefetch" href="/whole-stack-note/assets/js/30.e172d541.js"><link rel="prefetch" href="/whole-stack-note/assets/js/31.4743afe2.js"><link rel="prefetch" href="/whole-stack-note/assets/js/32.e43dfe09.js"><link rel="prefetch" href="/whole-stack-note/assets/js/33.702e33d9.js"><link rel="prefetch" href="/whole-stack-note/assets/js/34.98acfb8b.js"><link rel="prefetch" href="/whole-stack-note/assets/js/35.46c1d162.js"><link rel="prefetch" href="/whole-stack-note/assets/js/36.5360f9a1.js"><link rel="prefetch" href="/whole-stack-note/assets/js/37.3202f21f.js"><link rel="prefetch" href="/whole-stack-note/assets/js/38.2da5a094.js"><link rel="prefetch" href="/whole-stack-note/assets/js/39.90ca2ef5.js"><link rel="prefetch" href="/whole-stack-note/assets/js/4.40344acd.js"><link rel="prefetch" href="/whole-stack-note/assets/js/40.59c42333.js"><link rel="prefetch" href="/whole-stack-note/assets/js/41.a54473c6.js"><link rel="prefetch" href="/whole-stack-note/assets/js/42.fc4f53b4.js"><link rel="prefetch" href="/whole-stack-note/assets/js/43.850f9f12.js"><link rel="prefetch" href="/whole-stack-note/assets/js/44.c7204026.js"><link rel="prefetch" href="/whole-stack-note/assets/js/45.b3a7a2e3.js"><link rel="prefetch" href="/whole-stack-note/assets/js/46.dd4d8f2c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/47.bd5b6097.js"><link rel="prefetch" href="/whole-stack-note/assets/js/48.48d2c838.js"><link rel="prefetch" href="/whole-stack-note/assets/js/49.172dda36.js"><link rel="prefetch" href="/whole-stack-note/assets/js/5.8b0953b8.js"><link rel="prefetch" href="/whole-stack-note/assets/js/50.1725564c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/51.196e4b02.js"><link rel="prefetch" href="/whole-stack-note/assets/js/52.ae8fac40.js"><link rel="prefetch" href="/whole-stack-note/assets/js/53.31d25e2a.js"><link rel="prefetch" href="/whole-stack-note/assets/js/54.33f3808c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/55.a7028326.js"><link rel="prefetch" href="/whole-stack-note/assets/js/56.d97f56a9.js"><link rel="prefetch" href="/whole-stack-note/assets/js/57.4bf34335.js"><link rel="prefetch" href="/whole-stack-note/assets/js/58.a5af0f91.js"><link rel="prefetch" href="/whole-stack-note/assets/js/59.262ef77e.js"><link rel="prefetch" href="/whole-stack-note/assets/js/6.4336baf3.js"><link rel="prefetch" href="/whole-stack-note/assets/js/60.cf84b989.js"><link rel="prefetch" href="/whole-stack-note/assets/js/61.4293f9d8.js"><link rel="prefetch" href="/whole-stack-note/assets/js/62.1b732026.js"><link rel="prefetch" href="/whole-stack-note/assets/js/63.d2444983.js"><link rel="prefetch" href="/whole-stack-note/assets/js/64.7b3869bd.js"><link rel="prefetch" href="/whole-stack-note/assets/js/65.f2321db1.js"><link rel="prefetch" href="/whole-stack-note/assets/js/66.015b0460.js"><link rel="prefetch" href="/whole-stack-note/assets/js/67.411bff10.js"><link rel="prefetch" href="/whole-stack-note/assets/js/68.171fb790.js"><link rel="prefetch" href="/whole-stack-note/assets/js/69.96676529.js"><link rel="prefetch" href="/whole-stack-note/assets/js/7.e465b6ba.js"><link rel="prefetch" href="/whole-stack-note/assets/js/70.a8025bc6.js"><link rel="prefetch" href="/whole-stack-note/assets/js/71.2a2472ba.js"><link rel="prefetch" href="/whole-stack-note/assets/js/72.3c6ae2c9.js"><link rel="prefetch" href="/whole-stack-note/assets/js/73.170f129f.js"><link rel="prefetch" href="/whole-stack-note/assets/js/74.68555ad9.js"><link rel="prefetch" href="/whole-stack-note/assets/js/75.7cba59f9.js"><link rel="prefetch" href="/whole-stack-note/assets/js/76.d6eef449.js"><link rel="prefetch" href="/whole-stack-note/assets/js/77.dfc66f21.js"><link rel="prefetch" href="/whole-stack-note/assets/js/78.e35d1d3d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/79.dd2e1091.js"><link rel="prefetch" href="/whole-stack-note/assets/js/8.222b3810.js"><link rel="prefetch" href="/whole-stack-note/assets/js/80.9954f422.js"><link rel="prefetch" href="/whole-stack-note/assets/js/81.dc3d4e55.js"><link rel="prefetch" href="/whole-stack-note/assets/js/82.87742d5f.js"><link rel="prefetch" href="/whole-stack-note/assets/js/83.81a0a2ba.js"><link rel="prefetch" href="/whole-stack-note/assets/js/84.db7f5c37.js"><link rel="prefetch" href="/whole-stack-note/assets/js/85.3d0f163e.js"><link rel="prefetch" href="/whole-stack-note/assets/js/86.04a30a24.js"><link rel="prefetch" href="/whole-stack-note/assets/js/87.8cb65d4d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/88.4cf80496.js"><link rel="prefetch" href="/whole-stack-note/assets/js/89.7cfa062d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/9.7a222e22.js"><link rel="prefetch" href="/whole-stack-note/assets/js/90.6e1228ed.js"><link rel="prefetch" href="/whole-stack-note/assets/js/91.9b555de3.js"><link rel="prefetch" href="/whole-stack-note/assets/js/92.4386ee97.js"><link rel="prefetch" href="/whole-stack-note/assets/js/93.684d846c.js"><link rel="prefetch" href="/whole-stack-note/assets/js/94.8a482468.js"><link rel="prefetch" href="/whole-stack-note/assets/js/95.95b63e9a.js"><link rel="prefetch" href="/whole-stack-note/assets/js/96.00ee3e31.js"><link rel="prefetch" href="/whole-stack-note/assets/js/97.bb05d450.js"><link rel="prefetch" href="/whole-stack-note/assets/js/98.182cf4b9.js"><link rel="prefetch" href="/whole-stack-note/assets/js/99.355b686f.js">
    <link rel="stylesheet" href="/whole-stack-note/assets/css/0.styles.966634b6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/whole-stack-note/" class="home-link router-link-active"><!----> <span class="site-name">FE 前端研究所</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/whole-stack-note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端初级" class="dropdown-title"><span class="title">前端初级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML / CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-base/" class="nav-link">HTML 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-pro/" class="nav-link">HTML5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-base/" class="nav-link">CSS 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-pro/" class="nav-link">CSS3 / CSS4</a></li></ul></li><li class="dropdown-item"><h4>JS 基础与进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/es-next/01 let 变量和 const 常量.html" class="nav-link">ES-Next</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/typescript/00 基础知识.html" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/jquery/" class="nav-link">JQuery</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/browser/DOM.html" class="nav-link">浏览器原理</a></li></ul></li><li class="dropdown-item"><h4>项目包管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/npm/" class="nav-link">NPM</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/yarn/" class="nav-link">YARN</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/learn/" class="nav-link">LEARN</a></li></ul></li><li class="dropdown-item"><h4>团队协作</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/code-format/" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/tools/" class="nav-link">开发工具链</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端中级" class="dropdown-title"><span class="title">前端中级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>移动端开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/h5/" class="nav-link">H5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/uni-app/" class="nav-link">Uni-App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/react-native/" class="nav-link">React Native</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/fullter/" class="nav-link">Fullter</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/wechat/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/weex/" class="nav-link">Weex</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/mpvue/" class="nav-link">MpVue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/pwa/" class="nav-link">PWA</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/native-app/" class="nav-link">Native App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/hybird-app/" class="nav-link">Hybird App</a></li></ul></li><li class="dropdown-item"><h4>开发框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-base/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-element-admin/" class="nav-link">Vue-Element-Admin</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/react-base/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>NodeJS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/node-base/" class="nav-link">Node 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/express.html" class="nav-link">Express</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/koa.html" class="nav-link">Koa</a></li></ul></li><li class="dropdown-item"><h4>面试相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/business/" class="nav-link">业务开发</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/topic/" class="nav-link">面试题</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端高级" class="dropdown-title"><span class="title">前端高级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/p6/functional/" class="nav-link">函数式编程</a></li><li class="dropdown-item"><h4>Vue 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vuex 原理</a></li></ul></li><li class="dropdown-item"><h4>React 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Redux 原理</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mongodb/" class="nav-link">Mongodb</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/redis/" class="nav-link">Redis</a></li></ul></li><li class="dropdown-item"><h4>前端工程化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/gulp/" class="nav-link">Gulp</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/mock-server/" class="nav-link">Mock Server</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/icon-font/" class="nav-link">IconFont</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/axios-api/" class="nav-link">Axios 与 API 管理</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/performance/" class="nav-link">性能优化</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/test/" class="nav-link">自动化测试</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/deployment/" class="nav-link">自动化部署与运维</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/network/" class="nav-link">网络协议与安全</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/algorithms/" class="nav-link">数据结构与算法</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/patterns/" class="nav-link">设计模式</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端基础" class="dropdown-title"><span class="title">后端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/back/java-se/" class="nav-link">JAVA SE</a></li><li class="dropdown-item"><h4>Spring 全家桶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-base/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-boot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-cloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>包管理工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/gradle/" class="nav-link">Gradle</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/sql/" class="nav-link">SQL 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/performance/" class="nav-link">数据库高级优化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端进阶" class="dropdown-title"><span class="title">后端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>服务器部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/mac/" class="nav-link">Max</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/nginx/" class="nav-link">Nginx</a></li></ul></li><li class="dropdown-item"><h4>搜索引擎</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/search/elastic-search/" class="nav-link">Elastic Search</a></li></ul></li><li class="dropdown-item"><h4>RPC 框架和中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/dubbo/" class="nav-link">Dubbo</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rabbit-mq/" class="nav-link">RabbitMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rockert-mq/" class="nav-link">RocketMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/active-mq/" class="nav-link">ActiveMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/kafka/" class="nav-link">Kafka</a></li></ul></li><li class="dropdown-item"><h4>虚拟化容器</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/k8s/" class="nav-link">K8S</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/live/" class="nav-link">记录</a></li><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/economics/" class="nav-link">经济学</a></li></ul></div></div><div class="nav-item"><a href="/whole-stack-note/my-resume.html" class="nav-link">Resume</a></div> <a href="https://github.com/ErrorJe" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/whole-stack-note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端初级" class="dropdown-title"><span class="title">前端初级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML / CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-base/" class="nav-link">HTML 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-pro/" class="nav-link">HTML5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-base/" class="nav-link">CSS 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-pro/" class="nav-link">CSS3 / CSS4</a></li></ul></li><li class="dropdown-item"><h4>JS 基础与进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/es-next/01 let 变量和 const 常量.html" class="nav-link">ES-Next</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/typescript/00 基础知识.html" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/jquery/" class="nav-link">JQuery</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/browser/DOM.html" class="nav-link">浏览器原理</a></li></ul></li><li class="dropdown-item"><h4>项目包管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/npm/" class="nav-link">NPM</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/yarn/" class="nav-link">YARN</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/learn/" class="nav-link">LEARN</a></li></ul></li><li class="dropdown-item"><h4>团队协作</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/code-format/" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/tools/" class="nav-link">开发工具链</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端中级" class="dropdown-title"><span class="title">前端中级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>移动端开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/h5/" class="nav-link">H5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/uni-app/" class="nav-link">Uni-App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/react-native/" class="nav-link">React Native</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/fullter/" class="nav-link">Fullter</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/wechat/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/weex/" class="nav-link">Weex</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/mpvue/" class="nav-link">MpVue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/pwa/" class="nav-link">PWA</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/native-app/" class="nav-link">Native App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/hybird-app/" class="nav-link">Hybird App</a></li></ul></li><li class="dropdown-item"><h4>开发框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-base/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-element-admin/" class="nav-link">Vue-Element-Admin</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/react-base/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>NodeJS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/node-base/" class="nav-link">Node 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/express.html" class="nav-link">Express</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/koa.html" class="nav-link">Koa</a></li></ul></li><li class="dropdown-item"><h4>面试相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/business/" class="nav-link">业务开发</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/topic/" class="nav-link">面试题</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端高级" class="dropdown-title"><span class="title">前端高级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/p6/functional/" class="nav-link">函数式编程</a></li><li class="dropdown-item"><h4>Vue 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vuex 原理</a></li></ul></li><li class="dropdown-item"><h4>React 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Redux 原理</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mongodb/" class="nav-link">Mongodb</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/redis/" class="nav-link">Redis</a></li></ul></li><li class="dropdown-item"><h4>前端工程化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/gulp/" class="nav-link">Gulp</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/mock-server/" class="nav-link">Mock Server</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/icon-font/" class="nav-link">IconFont</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/axios-api/" class="nav-link">Axios 与 API 管理</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/performance/" class="nav-link">性能优化</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/test/" class="nav-link">自动化测试</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/deployment/" class="nav-link">自动化部署与运维</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/network/" class="nav-link">网络协议与安全</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/algorithms/" class="nav-link">数据结构与算法</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/patterns/" class="nav-link">设计模式</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端基础" class="dropdown-title"><span class="title">后端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/back/java-se/" class="nav-link">JAVA SE</a></li><li class="dropdown-item"><h4>Spring 全家桶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-base/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-boot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-cloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>包管理工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/gradle/" class="nav-link">Gradle</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/sql/" class="nav-link">SQL 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/performance/" class="nav-link">数据库高级优化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端进阶" class="dropdown-title"><span class="title">后端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>服务器部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/mac/" class="nav-link">Max</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/nginx/" class="nav-link">Nginx</a></li></ul></li><li class="dropdown-item"><h4>搜索引擎</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/search/elastic-search/" class="nav-link">Elastic Search</a></li></ul></li><li class="dropdown-item"><h4>RPC 框架和中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/dubbo/" class="nav-link">Dubbo</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rabbit-mq/" class="nav-link">RabbitMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rockert-mq/" class="nav-link">RocketMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/active-mq/" class="nav-link">ActiveMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/kafka/" class="nav-link">Kafka</a></li></ul></li><li class="dropdown-item"><h4>虚拟化容器</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/k8s/" class="nav-link">K8S</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/live/" class="nav-link">记录</a></li><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/economics/" class="nav-link">经济学</a></li></ul></div></div><div class="nav-item"><a href="/whole-stack-note/my-resume.html" class="nav-link">Resume</a></div> <a href="https://github.com/ErrorJe" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/whole-stack-note/p4/browser/DOM.html" class="sidebar-link">DOM</a></li><li><a href="/whole-stack-note/p4/browser/BOM.html" class="active sidebar-link">BOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#bom-基础知识" class="sidebar-link">BOM 基础知识</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#location-对象" class="sidebar-link">Location 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#分析一个-url-组成" class="sidebar-link">分析一个 URL 组成</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#页面跳转" class="sidebar-link">页面跳转</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#location-对象-api" class="sidebar-link">location 对象 API</a></li></ul></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#navigator-浏览器信息" class="sidebar-link">Navigator 浏览器信息</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#history-浏览历史记录" class="sidebar-link">History 浏览历史记录</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#window-对象" class="sidebar-link">Window 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#基础知识" class="sidebar-link">基础知识</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#浏览器尺寸-api" class="sidebar-link">浏览器尺寸 API</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#页面加载事件：dom-加载完毕后触发" class="sidebar-link">页面加载事件：DOM 加载完毕后触发</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#三种弹窗" class="sidebar-link">三种弹窗</a></li></ul></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#screen-屏幕信息和视口" class="sidebar-link">Screen 屏幕信息和视口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#screen" class="sidebar-link">screen</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#document" class="sidebar-link">document</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#offset-系列" class="sidebar-link">offset 系列</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#scroll-系列：卷曲（溢出）" class="sidebar-link">scroll 系列：卷曲（溢出）</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#client-系列：页面可视区域" class="sidebar-link">client 系列：页面可视区域</a></li></ul></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#应用示例" class="sidebar-link">应用示例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#获取元素的样式属性值" class="sidebar-link">获取元素的样式属性值</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#获取-dom-元素高度和宽度总结" class="sidebar-link">获取 DOM 元素高度和宽度总结</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/BOM.html#固定导航栏" class="sidebar-link">固定导航栏</a></li></ul></li></ul></li><li><a href="/whole-stack-note/p4/browser/CSSOM.html" class="sidebar-link">CSSOM</a></li><li><a href="/whole-stack-note/p4/browser/前端本地存储.html" class="sidebar-link">前端本地存储</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bom"><a href="#bom" class="header-anchor">#</a> BOM</h1> <h2 id="bom-基础知识"><a href="#bom-基础知识" class="header-anchor">#</a> BOM 基础知识</h2> <p>BOM（browser object model）</p> <p>在 HTML5 新增了 BOM API 和新功能。</p> <p>BOM 包含了5个东西</p> <ul><li>location 管理 URL</li> <li>history 管理历史记录</li> <li>navigator 管理浏览器</li> <li>screen 管理屏幕</li> <li>window 管理浏览器所有的东西</li></ul> <h2 id="location-对象"><a href="#location-对象" class="header-anchor">#</a> Location 对象</h2> <h3 id="分析一个-url-组成"><a href="#分析一个-url-组成" class="header-anchor">#</a> 分析一个 URL 组成</h3> <p>一个完整的URL如：http://www.baidu.com/path.html?a=1&amp;b=2#top</p> <div class="language-js extra-class"><pre class="language-js"><code>location<span class="token punctuation">.</span>protocol <span class="token operator">=</span> 协议<span class="token punctuation">,</span>http
location<span class="token punctuation">.</span>host <span class="token operator">=</span> 主机域名， www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com
location<span class="token punctuation">.</span>prot <span class="token operator">=</span> 访问端口，一般是<span class="token number">8080</span>
location<span class="token punctuation">.</span>pathname <span class="token operator">=</span> 页面路径，path<span class="token punctuation">.</span>html
location<span class="token punctuation">.</span>search <span class="token operator">=</span> <span class="token constant">URL</span>？之后的部分
location<span class="token punctuation">.</span>hash <span class="token operator">=</span> #之后的部分，位置标识符
</code></pre></div><p>一些 <code>URL</code> 跳转</p> <div class="language-js extra-class"><pre class="language-js"><code>• location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> 重新加载当前页面
• location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token operator">=</span> 设置一个新的<span class="token constant">URL</span>地址
</code></pre></div><h3 id="页面跳转"><a href="#页面跳转" class="header-anchor">#</a> 页面跳转</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 设置跳转的页面URL, 属性。有后退。这个必须掌握</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> url
<span class="token comment">// 设置跳转的页面URL, 方法。有后退</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token comment">// 重新加载</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 替换网页，没有后退</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
</code></pre></div><h3 id="location-对象-api"><a href="#location-对象-api" class="header-anchor">#</a> location 对象 API</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// location 对像</span>
window<span class="token punctuation">.</span>location
 
<span class="token comment">// 地址栏上#及后面的内容</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash
<span class="token comment">// 主机名及端口号</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>host
<span class="token comment">// 主机名</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hostname
<span class="token comment">// 文件的路径---相对路径</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname
<span class="token comment">// 端口号</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>port
<span class="token comment">// 协议</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>protocol

<span class="token comment">// 完整的 href</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> protocol <span class="token operator">+</span> origin<span class="token operator">:</span>port <span class="token operator">+</span> pathname <span class="token operator">+</span> search
<span class="token comment">// 搜索的内容</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search
<span class="token comment">// 域名</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>origin
</code></pre></div><h2 id="navigator-浏览器信息"><a href="#navigator-浏览器信息" class="header-anchor">#</a> Navigator 浏览器信息</h2> <p><strong>navigator：浏览器信息，容易被用户自己修改，所以JS读取的值不一定是真实的</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>platform <span class="token comment">// 判断浏览器所在系统类型</span>
window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>userAgent <span class="token comment">// 浏览器设定的 User-Agent 字符串（可以伪装）</span>
navigator<span class="token punctuation">.</span>language <span class="token comment">// 浏览器设置的语言</span>
avigator<span class="token punctuation">.</span>appName <span class="token comment">// 浏览器名称</span>
navigator<span class="token punctuation">.</span>appVersion <span class="token comment">// 浏览器版本</span>
</code></pre></div><h2 id="history-浏览历史记录"><a href="#history-浏览历史记录" class="header-anchor">#</a> History 浏览历史记录</h2> <p><strong>history：保存了历史记录。方式太粗暴，尽量不用</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 前进</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 后退</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 任意跳转: 正数前进，负数后退， 0刷新</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>

<span class="token comment">// 历史列表中的 url 数量</span>
history<span class="token punctuation">.</span>length
</code></pre></div><p><strong>在 HTML5 中增加了一些 API ，让她可以做单页应用（SPA， single page app）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
    page<span class="token operator">:</span> <span class="token string">&quot;settings&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*三个参数分别是
  自定义对象
  新页面的标题, 但是现在还没有浏览器实现这个功能
  新页面的地址(只是对地址栏的路径进行修改，不对网页域名做任何改变，主要用于AJAX增强)
*/</span>
history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token string">&quot;settings&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/settings&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// 用户点击 前进 后退 按钮的时候, 会触发 window 的 popstate 事件</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;popstate&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里的e，就是上面的state对象。</span>
    <span class="token comment">// 也就是在页面可以传递或储存些数据</span>
    <span class="token keyword">var</span> state <span class="token operator">=</span> e<span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token comment">// state 就是 pushState 的第一个参数</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'pop state'</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 还有一个 replaceState 函数, 它的作用和 pushState 一样, 只是不生成一条历史纪录</span>
</code></pre></div><h2 id="window-对象"><a href="#window-对象" class="header-anchor">#</a> Window 对象</h2> <p><strong>Window：分为整个浏览器窗口和浏览器内部窗口。除了表示浏览器窗口，还充当全局作用域</strong></p> <h3 id="基础知识"><a href="#基础知识" class="header-anchor">#</a> 基础知识</h3> <p>浏览器有个顶级对象：<code>window - 皇上</code></p> <p>页面顶级对象： <code>document - 总管太监</code></p> <p>页面所有内容属于浏览器，页面中的内容也都是 <code>window</code> 的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 以下内容的前提是变量和函数定义都要暴露在全局环境下</span>
<span class="token comment">// 变量是 window 的</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> 实际上是 window<span class="token punctuation">.</span>x

<span class="token comment">// 方法的本质是函数，函数实际上也是方法（通过对象调用）</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span>fn

<span class="token comment">// 由于页面中所有内容都是 window 的， 所以 window 可以默认省略</span>
window<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'xx'</span><span class="token punctuation">)</span> <span class="token operator">===</span><span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'xx'</span><span class="token punctuation">)</span>
</code></pre></div><p>不要轻易用 <code>name</code> 这个变量， 因为 <code>window.name</code> 是存在的  <code>window</code> 还有另外的名字 <code>top</code></p> <p>浏览器的所有对象都可以直接在浏览器中输入后查看</p> <h3 id="浏览器尺寸-api"><a href="#浏览器尺寸-api" class="header-anchor">#</a> 浏览器尺寸 API</h3> <p>浏览器窗口大小：window.outerWidth， window.outerHeight</p> <p>浏览器内部窗口大小：window.innerWidth， window.innerHeight</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 有时候判断浏览器版本，写很多IF，其实可以利用JS对不存在属性返回undefined，用短路||运算符</span>
<span class="token keyword">var</span> width <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth <span class="token comment">// 不包括滚动条等用户无法涉及控制的部分</span>
</code></pre></div><h3 id="页面加载事件：dom-加载完毕后触发"><a href="#页面加载事件：dom-加载完毕后触发" class="header-anchor">#</a> 页面加载事件：DOM 加载完毕后触发</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 页面加载完触发</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>   <span class="token comment">// onload = function() {}</span>
<span class="token comment">// 页面关闭后触发</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onunload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 页面关闭前触发</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onbeforeunload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="三种弹窗"><a href="#三种弹窗" class="header-anchor">#</a> 三种弹窗</h3> <p>因为 UI 交互不是很好，所以尽量还是自己实现比较好</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 也有断言的作用</span>
window<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'请输入'</span><span class="token punctuation">)</span> <span class="token comment">// 中断程序运行</span>
window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'确定吗'</span><span class="token punctuation">)</span> <span class="token comment">// 有 yes 和 no 两个返回值</span>
</code></pre></div><h2 id="screen-屏幕信息和视口"><a href="#screen-屏幕信息和视口" class="header-anchor">#</a> Screen 屏幕信息和视口</h2> <h3 id="screen"><a href="#screen" class="header-anchor">#</a> screen</h3> <div class="language-js extra-class"><pre class="language-js"><code>screen<span class="token punctuation">.</span>width <span class="token operator">=</span> 屏幕宽度，像素单位px
screen<span class="token punctuation">.</span>height <span class="token operator">=</span> 屏幕高度
screen<span class="token punctuation">.</span>colorDepth <span class="token operator">=</span> 颜色位数，<span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">24</span>
</code></pre></div><h3 id="document"><a href="#document" class="header-anchor">#</a> document</h3> <h4 id="基础知识-2"><a href="#基础知识-2" class="header-anchor">#</a> 基础知识</h4> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>title <span class="token comment">// 获取&lt;title&gt;....&lt;/title&gt;的内容，也就是窗口标题</span>

<span class="token comment">// 查找某个DOM节点，从document开始找，一般是根据id标识和Tag元素标识来找</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="cookie属性的不安全性"><a href="#cookie属性的不安全性" class="header-anchor">#</a> cookie属性的不安全性</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// cookie属性，用于保存登录信息和其他设置信息,key-value对应的形式</span>
document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> 获取到当前页面的Cookie值。一般是加密的value
</code></pre></div><p>HTML可以引入第三方的JS代码，不排除其中有恶意的代码部分</p> <p>容易直接用JS获取到cookie中用户登录信息</p> <p>使用httpOnly可以设置为不被JS读取</p> <h4 id="_0"><a href="#_0" class="header-anchor">#</a> $0</h4> <blockquote><p><strong>指的是在Elements标签页，选中的某个元素</strong></p> <p><strong>用于调试的</strong></p></blockquote> <ul><li>可以只用这个选中此元素并操作</li> <li>$0.innerText='111'，就可以变里面的文本内容</li></ul> <h3 id="offset-系列"><a href="#offset-系列" class="header-anchor">#</a> offset 系列</h3> <p>当使用 `` 标签写的位置信息，是无法直接使用 JS 获取到</p> <p>但如果是直接写在属性中的样式，是可以获取到的，如 <code>style='x&quot;</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">DOM</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>x
</code></pre></div><p>现在， JS 可以直接通过 <code>offset 系列</code> 来获取元素的位置</p> <h4 id="基本操作"><a href="#基本操作" class="header-anchor">#</a> 基本操作</h4> <p>注意操作的前提在没有脱离文档流时</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 父级元素margin+父级元素padding+父级元素的border+自己的margin</span>

<span class="token constant">DOM</span><span class="token punctuation">.</span>offsetLeft <span class="token comment">// 左边距</span>
<span class="token constant">DOM</span><span class="token punctuation">.</span>offsetTop <span class="token comment">// 上边距</span>
<span class="token constant">DOM</span><span class="token punctuation">.</span>offsetHeight <span class="token comment">// 元素包括边框的布局高度</span>
<span class="token constant">DOM</span><span class="token punctuation">.</span>offsetWidth <span class="token comment">// 元素包括边框的布局宽度</span>
</code></pre></div><h4 id="页面元素-document"><a href="#页面元素-document" class="header-anchor">#</a> 页面元素 document</h4> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>body <span class="token comment">// 获取的是元素--标签</span>
document<span class="token punctuation">.</span>title <span class="token comment">// 标签中的值</span>
document<span class="token punctuation">.</span>documentElement <span class="token comment">// 获取HTML</span>
</code></pre></div><h3 id="scroll-系列：卷曲（溢出）"><a href="#scroll-系列：卷曲（溢出）" class="header-anchor">#</a> scroll 系列：卷曲（溢出）</h3> <p>CSS这样写，是为了操作的时候没有边框误差和计算</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">*</span> <span class="token punctuation">{</span>
  margin<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  padding<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="基本操作-2"><a href="#基本操作-2" class="header-anchor">#</a> 基本操作</h4> <p>使用样式属性 <code>overflow:auto</code> 时， 会让元素里的内容宽度收缩，导致高度增加</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">DOM</span><span class="token punctuation">.</span>scrollWidth <span class="token comment">//元素中内容的实际的宽，没有内容或很少就是元素的宽度，没有边框</span>
<span class="token constant">DOM</span><span class="token punctuation">.</span>scrollHeight <span class="token comment">//元素中内容的实际的高，没有内容或很少就是元素的高度，没有边框</span>
<span class="token constant">DOM</span><span class="token punctuation">.</span>scrollTop <span class="token comment">//向上卷曲(类似卷帘门上面被隐藏的部分)出去的距离。就是元素被隐藏部分的顶点到可视区域顶点的距离</span>
<span class="token constant">DOM</span><span class="token punctuation">.</span>scrollLeft <span class="token comment">//向左卷曲出去的距离</span>
</code></pre></div><h4 id="div-滚动事件：onscroll"><a href="#div-滚动事件：onscroll" class="header-anchor">#</a> div 滚动事件：onscroll</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">DOM</span><span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="client-系列：页面可视区域"><a href="#client-系列：页面可视区域" class="header-anchor">#</a> client 系列：页面可视区域</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">DOM</span><span class="token punctuation">.</span>clientWidth<span class="token operator">:</span> <span class="token function">可视区域的宽</span><span class="token punctuation">(</span>没有边框<span class="token punctuation">)</span><span class="token punctuation">,</span>边框内部的宽度
<span class="token constant">DOM</span><span class="token punctuation">.</span>clientHeight<span class="token operator">:</span> <span class="token function">可视区域的高</span><span class="token punctuation">(</span>没有边框<span class="token punctuation">)</span><span class="token punctuation">,</span>边框内部的高度
<span class="token constant">DOM</span><span class="token punctuation">.</span>clientLeft<span class="token operator">:</span> 左边边框的宽度
<span class="token constant">DOM</span><span class="token punctuation">.</span>clientTop<span class="token operator">:</span> 上面的边框的宽度，也就是边框的厚度
</code></pre></div><h2 id="应用示例"><a href="#应用示例" class="header-anchor">#</a> 应用示例</h2> <h3 id="获取元素的样式属性值"><a href="#获取元素的样式属性值" class="header-anchor">#</a> 获取元素的样式属性值</h3> <h4 id="获取样式"><a href="#获取样式" class="header-anchor">#</a> 获取样式</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 获取任意一个元素的任意一个样式属性的值</span>
<span class="token keyword">function</span> <span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> attr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//判断浏览器是否支持这个方法</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>getComputedStyle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取该对象CSS所有属性中的attr属性值（谷歌，火狐）, 第一个参数是DOM， 第二个是CSS伪元素</span>
    <span class="token keyword">return</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// IE8</span>
    <span class="token keyword">return</span> element<span class="token punctuation">.</span>currentStyle<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="写法简化"><a href="#写法简化" class="header-anchor">#</a> 写法简化</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> attr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//判断浏览器是否支持这个方法</span>
  <span class="token keyword">return</span> window<span class="token punctuation">.</span>getComputedStyle <span class="token operator">?</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">[</span>attr<span class="token punctuation">]</span> <span class="token operator">:</span> element<span class="token punctuation">.</span>currentStyle<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="关于不使用-dom-offsetleft"><a href="#关于不使用-dom-offsetleft" class="header-anchor">#</a> 关于不使用 DOM.offsetLeft</h4> <p>因为当元素没有脱离标准文档流的时候，就算设置了 <code>left: 100px</code>， 也不会显示，也无法用到这个方法来获取真实的位置。但实际上这个属性是实际存在的，只是需要脱标后才能显示出来。</p> <h3 id="获取-dom-元素高度和宽度总结"><a href="#获取-dom-元素高度和宽度总结" class="header-anchor">#</a> 获取 DOM 元素高度和宽度总结</h3> <div class="language-js extra-class"><pre class="language-js"><code>网页可见区域宽： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth
网页可见区域高： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight
网页可见区域宽： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">offsetWidth</span> <span class="token punctuation">(</span>包括边线的宽<span class="token punctuation">)</span>
网页可见区域高： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">offsetHeight</span> <span class="token punctuation">(</span>包括边线的高<span class="token punctuation">)</span>
网页正文全文宽： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollWidth
网页正文全文高： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollHeight
网页被卷去的高： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop
网页被卷去的左： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollLeft
对应的dom元素的宽高有以下几个常用的：
元素的实际高度：document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetHeight <span class="token comment">// clientHeight</span>
元素的实际宽度：document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetWidth
元素的实际距离左边界的距离：document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetLeft
元素的实际距离上边界的距离：document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetTop
</code></pre></div><h3 id="固定导航栏"><a href="#固定导航栏" class="header-anchor">#</a> 固定导航栏</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 获取页面向上或者向左卷曲出去的距离的值</span>
<span class="token keyword">function</span> <span class="token function">getScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// document.documentElement === HTML</span>
  <span class="token comment">// 高度：浏览器可视界面的上边界为0 ，超出多少高度就是多少</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    left<span class="token operator">:</span> window<span class="token punctuation">.</span>pageXOffset <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollLeft <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollLeft<span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">,</span>
    top<span class="token operator">:</span> window<span class="token punctuation">.</span>pageYOffset <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 浏览器滚动事件</span>
<span class="token comment">/*
    tDOM 上方元素
    xDOM 目标元素
    bDOM 下方元素
    class-fixed {
      position: fixed;  脱离文档流
      top: 0;   挂在浏览器顶部
      left: 0;
    }
    class-main {
      margin-top: 10px;
    }
  */</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 超出可视页面的高度 大于 最上方元素的高度值(这个顶部元素看不到时)</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top <span class="token operator">&gt;=</span> tDOM<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 设置目标元素的类样式: 这个 fixed 样式类提前写好</span>
    xDOM<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;nav fixed&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置下方元素的 marginTop 的值(因为xDOM脱离了文档流，所以有一个空缺位，填补这个空缺高度)</span>
    bDOM<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> xDOM<span class="token punctuation">.</span>offsetHeight <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 反之，不改变样式</span>
    xDOM<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;nav&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 把下方元素的样式值设置回来</span>
    bDOM<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token string">&quot;10px&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">1/20/2020, 9:05:53 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/whole-stack-note/p4/browser/DOM.html" class="prev">DOM</a></span> <span class="next"><a href="/whole-stack-note/p4/browser/CSSOM.html">CSSOM</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/whole-stack-note/assets/js/app.7c0edf47.js" defer></script><script src="/whole-stack-note/assets/js/2.6d170185.js" defer></script><script src="/whole-stack-note/assets/js/12.698342be.js" defer></script>
  </body>
</html>
