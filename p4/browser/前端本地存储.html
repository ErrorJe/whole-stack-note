<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端本地存储 | FE 前端研究所</title>
    <meta name="description" content="ErrorJE 直辖 Blog">
    <link rel="icon" href="/whole-stack-note/logo.jpg">
    
    <link rel="preload" href="/whole-stack-note/assets/css/0.styles.91d1f618.css" as="style"><link rel="preload" href="/whole-stack-note/assets/js/app.669d025b.js" as="script"><link rel="preload" href="/whole-stack-note/assets/js/2.6923c2fc.js" as="script"><link rel="preload" href="/whole-stack-note/assets/js/11.77c1ae1b.js" as="script"><link rel="prefetch" href="/whole-stack-note/assets/js/10.c2f0afed.js"><link rel="prefetch" href="/whole-stack-note/assets/js/12.8e36a117.js"><link rel="prefetch" href="/whole-stack-note/assets/js/13.7ab9b6bd.js"><link rel="prefetch" href="/whole-stack-note/assets/js/14.9c102514.js"><link rel="prefetch" href="/whole-stack-note/assets/js/15.bd212851.js"><link rel="prefetch" href="/whole-stack-note/assets/js/16.810669fa.js"><link rel="prefetch" href="/whole-stack-note/assets/js/17.9f84e97d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/18.71119b71.js"><link rel="prefetch" href="/whole-stack-note/assets/js/19.7048dc53.js"><link rel="prefetch" href="/whole-stack-note/assets/js/20.80a902cb.js"><link rel="prefetch" href="/whole-stack-note/assets/js/21.678c10a3.js"><link rel="prefetch" href="/whole-stack-note/assets/js/22.83a4f3f1.js"><link rel="prefetch" href="/whole-stack-note/assets/js/23.c822b1cf.js"><link rel="prefetch" href="/whole-stack-note/assets/js/24.ebaaad46.js"><link rel="prefetch" href="/whole-stack-note/assets/js/25.1dd51cb3.js"><link rel="prefetch" href="/whole-stack-note/assets/js/26.d1ff4005.js"><link rel="prefetch" href="/whole-stack-note/assets/js/27.9643067f.js"><link rel="prefetch" href="/whole-stack-note/assets/js/28.b77f730f.js"><link rel="prefetch" href="/whole-stack-note/assets/js/29.c4e2a4ac.js"><link rel="prefetch" href="/whole-stack-note/assets/js/3.072c3918.js"><link rel="prefetch" href="/whole-stack-note/assets/js/30.3347d55a.js"><link rel="prefetch" href="/whole-stack-note/assets/js/31.dd56b492.js"><link rel="prefetch" href="/whole-stack-note/assets/js/32.18b25b10.js"><link rel="prefetch" href="/whole-stack-note/assets/js/33.7fa2a18b.js"><link rel="prefetch" href="/whole-stack-note/assets/js/34.5c27b44d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/35.aa2c775b.js"><link rel="prefetch" href="/whole-stack-note/assets/js/36.2523d430.js"><link rel="prefetch" href="/whole-stack-note/assets/js/37.163a3a45.js"><link rel="prefetch" href="/whole-stack-note/assets/js/38.d176b481.js"><link rel="prefetch" href="/whole-stack-note/assets/js/39.95d92b4f.js"><link rel="prefetch" href="/whole-stack-note/assets/js/4.1a07879d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/40.90864ea7.js"><link rel="prefetch" href="/whole-stack-note/assets/js/41.5c30cfde.js"><link rel="prefetch" href="/whole-stack-note/assets/js/42.322e2d9f.js"><link rel="prefetch" href="/whole-stack-note/assets/js/43.48386fd0.js"><link rel="prefetch" href="/whole-stack-note/assets/js/44.6f8387a4.js"><link rel="prefetch" href="/whole-stack-note/assets/js/45.ffc3ff64.js"><link rel="prefetch" href="/whole-stack-note/assets/js/46.bdd1d435.js"><link rel="prefetch" href="/whole-stack-note/assets/js/47.d47e5d3d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/48.2df446e1.js"><link rel="prefetch" href="/whole-stack-note/assets/js/49.139ba27a.js"><link rel="prefetch" href="/whole-stack-note/assets/js/5.11f2374e.js"><link rel="prefetch" href="/whole-stack-note/assets/js/6.f1ef958b.js"><link rel="prefetch" href="/whole-stack-note/assets/js/7.2ddb2d79.js"><link rel="prefetch" href="/whole-stack-note/assets/js/8.2ad0008d.js"><link rel="prefetch" href="/whole-stack-note/assets/js/9.994a275a.js">
    <link rel="stylesheet" href="/whole-stack-note/assets/css/0.styles.91d1f618.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/whole-stack-note/" class="home-link router-link-active"><!----> <span class="site-name">FE 前端研究所</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/whole-stack-note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端初级" class="dropdown-title"><span class="title">前端初级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML / CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-base/" class="nav-link">HTML 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-pro/" class="nav-link">HTML5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-base/" class="nav-link">CSS 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-pro/" class="nav-link">CSS3 / CSS4</a></li></ul></li><li class="dropdown-item"><h4>JS 基础与进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/es-next/" class="nav-link">ES-Next</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/typescript/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/jquery/" class="nav-link">JQuery</a></li></ul></li><li class="dropdown-item"><h4>项目包管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/modules/" class="nav-link">前端模块化</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/npm/" class="nav-link">NPM</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/yarn/" class="nav-link">YARN</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/learn/" class="nav-link">LEARN</a></li></ul></li><li class="dropdown-item"><h4>团队协作</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/code-format/" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/tools/" class="nav-link">开发工具链</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/browser/" class="nav-link router-link-active">浏览器原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/request/" class="nav-link">网络通信层</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端中级" class="dropdown-title"><span class="title">前端中级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>移动端开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/h5/" class="nav-link">H5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/uni-app/" class="nav-link">Uni-App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/react-native/" class="nav-link">React Native</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/fullter/" class="nav-link">Fullter</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/wechat/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/weex/" class="nav-link">Weex</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/mpvue/" class="nav-link">MpVue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/pwa/" class="nav-link">PWA</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/native-app/" class="nav-link">Native App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/hybird-app/" class="nav-link">Hybird App</a></li></ul></li><li class="dropdown-item"><h4>开发框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-base/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-element-admin/" class="nav-link">Vue-Element-Admin</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/react-base/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>NodeJS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/node-base/" class="nav-link">Node 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/express.html" class="nav-link">Express</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/koa.html" class="nav-link">Koa</a></li></ul></li><li class="dropdown-item"><h4>面试相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/business/" class="nav-link">业务开发</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/topic/" class="nav-link">面试题</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端高级" class="dropdown-title"><span class="title">前端高级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/p6/functional/" class="nav-link">函数式编程</a></li><li class="dropdown-item"><h4>Vue 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vuex 原理</a></li></ul></li><li class="dropdown-item"><h4>React 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Redux 原理</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mongodb/" class="nav-link">Mongodb</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/redis/" class="nav-link">Redis</a></li></ul></li><li class="dropdown-item"><h4>前端工程化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/gulp/" class="nav-link">Gulp</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/mock-server/" class="nav-link">Mock Server</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/icon-font/" class="nav-link">IconFont</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/axios-api/" class="nav-link">Axios 与 API 管理</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/performance/" class="nav-link">性能优化</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/test/" class="nav-link">自动化测试</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/deployment/" class="nav-link">自动化部署与运维</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/network/" class="nav-link">网络协议与安全</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/algorithms/" class="nav-link">数据结构与算法</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/patterns/" class="nav-link">设计模式</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端基础" class="dropdown-title"><span class="title">后端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/back/java-se/" class="nav-link">JAVA SE</a></li><li class="dropdown-item"><h4>Spring 全家桶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-base/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-boot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-cloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>包管理工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/gradle/" class="nav-link">Gradle</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/sql/" class="nav-link">SQL 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/performance/" class="nav-link">数据库高级优化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端进阶" class="dropdown-title"><span class="title">后端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>服务器部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/mac/" class="nav-link">Max</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/nginx/" class="nav-link">Nginx</a></li></ul></li><li class="dropdown-item"><h4>搜索引擎</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/search/elastic-search/" class="nav-link">Elastic Search</a></li></ul></li><li class="dropdown-item"><h4>RPC 框架和中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/dubbo/" class="nav-link">Dubbo</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rabbit-mq/" class="nav-link">RabbitMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rockert-mq/" class="nav-link">RocketMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/active-mq/" class="nav-link">ActiveMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/kafka/" class="nav-link">Kafka</a></li></ul></li><li class="dropdown-item"><h4>虚拟化容器</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/k8s/" class="nav-link">K8S</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/live/" class="nav-link">记录</a></li><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/economics/" class="nav-link">经济学</a></li></ul></div></div><div class="nav-item"><a href="/whole-stack-note/my-resume.html" class="nav-link">Resume</a></div> <a href="https://github.com/ErrorJe" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/whole-stack-note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端初级" class="dropdown-title"><span class="title">前端初级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML / CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-base/" class="nav-link">HTML 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/html-pro/" class="nav-link">HTML5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-base/" class="nav-link">CSS 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/css-pro/" class="nav-link">CSS3 / CSS4</a></li></ul></li><li class="dropdown-item"><h4>JS 基础与进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/es-next/" class="nav-link">ES-Next</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/typescript/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/jquery/" class="nav-link">JQuery</a></li></ul></li><li class="dropdown-item"><h4>项目包管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/modules/" class="nav-link">前端模块化</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/npm/" class="nav-link">NPM</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/yarn/" class="nav-link">YARN</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/package/learn/" class="nav-link">LEARN</a></li></ul></li><li class="dropdown-item"><h4>团队协作</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/code-format/" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/team/tools/" class="nav-link">开发工具链</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p4/browser/" class="nav-link router-link-active">浏览器原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p4/request/" class="nav-link">网络通信层</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端中级" class="dropdown-title"><span class="title">前端中级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>移动端开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/h5/" class="nav-link">H5</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/uni-app/" class="nav-link">Uni-App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/react-native/" class="nav-link">React Native</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/fullter/" class="nav-link">Fullter</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/wechat/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/weex/" class="nav-link">Weex</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/mpvue/" class="nav-link">MpVue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/pwa/" class="nav-link">PWA</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/native-app/" class="nav-link">Native App</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/web-app/hybird-app/" class="nav-link">Hybird App</a></li></ul></li><li class="dropdown-item"><h4>开发框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-base/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/vue-element-admin/" class="nav-link">Vue-Element-Admin</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/react-base/" class="nav-link">React</a></li></ul></li><li class="dropdown-item"><h4>NodeJS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/node-base/" class="nav-link">Node 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/express.html" class="nav-link">Express</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/node-js/koa.html" class="nav-link">Koa</a></li></ul></li><li class="dropdown-item"><h4>面试相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/business/" class="nav-link">业务开发</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p5/interview/topic/" class="nav-link">面试题</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端高级" class="dropdown-title"><span class="title">前端高级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/p6/functional/" class="nav-link">函数式编程</a></li><li class="dropdown-item"><h4>Vue 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vue-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/vue-pro/" class="nav-link">Vuex 原理</a></li></ul></li><li class="dropdown-item"><h4>React 源码</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Router 原理</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/react-pro/" class="nav-link">React-Redux 原理</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/mongodb/" class="nav-link">Mongodb</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/database/redis/" class="nav-link">Redis</a></li></ul></li><li class="dropdown-item"><h4>前端工程化</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/gulp/" class="nav-link">Gulp</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/mock-server/" class="nav-link">Mock Server</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/icon-font/" class="nav-link">IconFont</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/project/axios-api/" class="nav-link">Axios 与 API 管理</a></li></ul></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/p6/performance/" class="nav-link">性能优化</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/test/" class="nav-link">自动化测试</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/deployment/" class="nav-link">自动化部署与运维</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/network/" class="nav-link">网络协议与安全</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/algorithms/" class="nav-link">数据结构与算法</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/p6/patterns/" class="nav-link">设计模式</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端基础" class="dropdown-title"><span class="title">后端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/back/java-se/" class="nav-link">JAVA SE</a></li><li class="dropdown-item"><h4>Spring 全家桶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-base/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-boot/" class="nav-link">SpringBoot</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/spring/spring-cloud/" class="nav-link">SpringCloud</a></li></ul></li><li class="dropdown-item"><h4>包管理工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/package/gradle/" class="nav-link">Gradle</a></li></ul></li><li class="dropdown-item"><h4>数据库与缓存</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/sql/" class="nav-link">SQL 基础</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/database/performance/" class="nav-link">数据库高级优化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端进阶" class="dropdown-title"><span class="title">后端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>服务器部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/mac/" class="nav-link">Max</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/server/nginx/" class="nav-link">Nginx</a></li></ul></li><li class="dropdown-item"><h4>搜索引擎</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/search/elastic-search/" class="nav-link">Elastic Search</a></li></ul></li><li class="dropdown-item"><h4>RPC 框架和中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/dubbo/" class="nav-link">Dubbo</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rabbit-mq/" class="nav-link">RabbitMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/rockert-mq/" class="nav-link">RocketMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/active-mq/" class="nav-link">ActiveMQ</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/middleware/kafka/" class="nav-link">Kafka</a></li></ul></li><li class="dropdown-item"><h4>虚拟化容器</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/whole-stack-note/back/container/k8s/" class="nav-link">K8S</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/live/" class="nav-link">记录</a></li><li class="dropdown-item"><!----> <a href="/whole-stack-note/blog/economics/" class="nav-link">经济学</a></li></ul></div></div><div class="nav-item"><a href="/whole-stack-note/my-resume.html" class="nav-link">Resume</a></div> <a href="https://github.com/ErrorJe" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/whole-stack-note/p4/browser/" class="sidebar-link">浏览器原理</a></li><li><a href="/whole-stack-note/p4/browser/前端本地存储.html" class="active sidebar-link">前端本地存储</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#cookie" class="sidebar-link">Cookie</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#cookie-特点" class="sidebar-link">cookie 特点</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#cookie-操作" class="sidebar-link">cookie 操作</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#cookie-的历史贡献" class="sidebar-link">cookie 的历史贡献</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#cookie-的组成" class="sidebar-link">cookie 的组成</a></li></ul></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#localstorage" class="sidebar-link">LocalStorage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#localstorage-特点" class="sidebar-link">localStorage 特点</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#localstorage-操作" class="sidebar-link">localStorage 操作</a></li></ul></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#sessionstorage" class="sidebar-link">SessionStorage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#sessionstorage-特点" class="sidebar-link">sessionStorage 特点</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#sessionstorage-操作" class="sidebar-link">sessionStorage 操作</a></li></ul></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#session（概念）" class="sidebar-link">Session（概念）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#session-特点" class="sidebar-link">session 特点</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#session-形式" class="sidebar-link">session 形式</a></li><li class="sidebar-sub-header"><a href="/whole-stack-note/p4/browser/前端本地存储.html#session-载体" class="sidebar-link">session 载体</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="前端本地存储"><a href="#前端本地存储" class="header-anchor">#</a> 前端本地存储</h1> <h2 id="cookie"><a href="#cookie" class="header-anchor">#</a> Cookie</h2> <blockquote><p>就是一种信息的存放，通用性较好</p></blockquote> <h3 id="cookie-特点"><a href="#cookie-特点" class="header-anchor">#</a> cookie 特点</h3> <ul><li>大小 4KB</li> <li>是用于前端存储，可以设置过期时间，默认是关闭浏览器失效</li> <li>会被携带到 HTTP 头中，所以有一定的带宽消耗</li></ul> <h3 id="cookie-操作"><a href="#cookie-操作" class="header-anchor">#</a> cookie 操作</h3> <p>客户端（前端）可以通过 <code>document.cookie</code> 来设置，服务端可以通过 <code>Set-Cookie</code> 设置响应报文字段。</p> <ul><li>原生接口并不友好，所以需要自己封装，也有 js-cookie 库来使用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Cookies <span class="token keyword">from</span> <span class="token string">'js-cookie'</span>

<span class="token keyword">const</span> TokenKey <span class="token operator">=</span> <span class="token string">'chistoken'</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Cookies<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>TokenKey<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">setToken</span><span class="token punctuation">(</span><span class="token parameter">token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>TokenKey<span class="token punctuation">,</span> token<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">removeToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Cookies<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>TokenKey<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>原生 JS 实现基础增删改和时效</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* 1 添加cookie
  name 键值对的Key
  value 键值对的value
  expdays cookie过期时间
*/</span>
<span class="token keyword">function</span> <span class="token function">setCookie</span> <span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> expdays</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> expdate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//设置Cookie过期日期</span>
  expdate<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>expdate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> expdays<span class="token punctuation">)</span> <span class="token punctuation">;</span>
  <span class="token comment">//添加Cookie</span>
  document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> <span class="token function">escape</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;;expires=&quot;</span> <span class="token operator">+</span> expdate<span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2 获取cookie</span>
<span class="token keyword">function</span> <span class="token function">getCookie</span> <span class="token punctuation">(</span> <span class="token parameter">name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//获取name在Cookie中起止位置</span>
  <span class="token keyword">var</span> start <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>name<span class="token operator">+</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span> start <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    start <span class="token operator">=</span> start <span class="token operator">+</span> name<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">;</span>
    <span class="token comment">//获取value的终止位置</span>
    <span class="token keyword">var</span> end <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;;&quot;</span><span class="token punctuation">,</span> start<span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> end <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span>
      end <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span>length <span class="token punctuation">;</span>
    <span class="token comment">//截获cookie的value值,并返回</span>
    <span class="token keyword">return</span> <span class="token function">unescape</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 3 删除cookie</span>
<span class="token keyword">function</span> <span class="token function">delCookie</span> <span class="token punctuation">(</span> <span class="token parameter">name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setCookie</span> <span class="token punctuation">(</span> name<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="cookie-的历史贡献"><a href="#cookie-的历史贡献" class="header-anchor">#</a> cookie 的历史贡献</h3> <p>来自于 MDN 文档，简单来说就是 cookie 是个历史产物，有性能开销，后面推荐使用 localStorage 之类的 API</p> <blockquote><p>Cookie曾一度用于客户端数据的存储，因当时并没有其它合适的存储办法而作为唯一的存储手段，但现在随着现代浏览器开始支持各种各样的存储方式，Cookie渐渐被淘汰。由于服务器指定Cookie后，浏览器的每次请求都会携带Cookie数据，会带来额外的性能开销（尤其是在移动环境下）。新的浏览器API已经允许开发者直接将数据存储到本地，如使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Storage_API" target="_blank" rel="noopener noreferrer">Web storage API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> （本地存储和会话存储）或 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener noreferrer">IndexedDB<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="cookie-的组成"><a href="#cookie-的组成" class="header-anchor">#</a> cookie 的组成</h3> <p>可以通过 chrome 看到所有的信息</p> <p><img src="https://raw.githubusercontent.com/ErrorJe/ErrorJE.github.io/images/img/20200108160024.png" alt=""></p> <ul><li>name， value</li></ul> <p>存放数据的键值对，session 中的 sessionId 其实就是 name 设置的</p> <ul><li>domain 当前域名</li></ul> <p>在父级设置，子级可以拿到</p> <ul><li>path 设置路径 <code>cookie</code> 生效路径</li> <li>max-age 有效期，毫秒（之前 HTTP1 还用过 <code>expires</code> ，已废弃）</li> <li>size 大小，最大5M</li> <li>httpOnly，默认false。设置true后，JS 通过 <code>document.cookie</code> 就无法获取了，用于设置比较敏感的字段如 sessionid, token 等</li> <li>sameSite 用于跨域共享 cookie 的</li> <li>secure 在 HTTPS 中使用，传输过程加密</li></ul> <h2 id="localstorage"><a href="#localstorage" class="header-anchor">#</a> LocalStorage</h2> <h3 id="localstorage-特点"><a href="#localstorage-特点" class="header-anchor">#</a> localStorage 特点</h3> <ul><li>存储大小 5MB</li> <li>只能被手动清除</li> <li>以字符串的形式保存，所以遇到对象、数组需要进行序列化</li></ul> <h3 id="localstorage-操作"><a href="#localstorage-操作" class="header-anchor">#</a> localStorage 操作</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1 存</span>
<span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// 序列化引用类型数据</span>
localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> 


<span class="token comment">// 2 取</span>
localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// 单个数据</span>
localStorage<span class="token punctuation">.</span>key <span class="token comment">// 本质就是对象，也可以这样取值</span>
localStorage<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 全部数据</span>

<span class="token comment">// 3 删</span>
localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 清空</span>
</code></pre></div><h2 id="sessionstorage"><a href="#sessionstorage" class="header-anchor">#</a> SessionStorage</h2> <h3 id="sessionstorage-特点"><a href="#sessionstorage-特点" class="header-anchor">#</a> sessionStorage 特点</h3> <ul><li>存储大小 5MB</li> <li>仅在当前网页会话下有效，关闭页面或浏览器后就会被清除</li> <li>以字符串的形式保存，所以遇到对象、数组需要进行序列化</li></ul> <h3 id="sessionstorage-操作"><a href="#sessionstorage-操作" class="header-anchor">#</a> sessionStorage 操作</h3> <p>和 <code>localStorage</code> 的操作方式是一样的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1 存</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>

<span class="token comment">// 2 取</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// 单个数据</span>
sessionStorage<span class="token punctuation">.</span>key <span class="token comment">// 本质就是对象，也可以这样取值</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 全部数据</span>

<span class="token comment">// 3 删</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 清空</span>
</code></pre></div><h2 id="session（概念）"><a href="#session（概念）" class="header-anchor">#</a> Session（概念）</h2> <h3 id="session-特点"><a href="#session-特点" class="header-anchor">#</a> session 特点</h3> <ul><li>不是前端技术，区别于 <code>sessionStorage</code> ，是后端存储的技术，也是一个抽象概念，用于跟踪会话</li> <li>在后端存储，所以说比 cookie 安全一点</li> <li>场景是服务器需要知道多次 HTTP 请求分别来自于哪个客户端（用户）</li> <li>依赖于客户端 cookie 实现</li></ul> <h3 id="session-形式"><a href="#session-形式" class="header-anchor">#</a> session 形式</h3> <ul><li>SessionID：一般是与数据库中的某个记录关联。用这个 ID 就可以拿到真实的数据</li> <li>Token：本身就是真实需要的数据，只是进行了加密。这也是 <code>JWT</code> 鉴权方式</li></ul> <h3 id="session-载体"><a href="#session-载体" class="header-anchor">#</a> session 载体</h3> <p>根据项目开发习惯，我们一般将后端返回的 <code>sessionID</code> 放到 <code>cookie</code> 里，把 <code>token</code> 放到 <code>localstorage</code> 中</p> <p>然后每次请求时都放到 <code>Header</code> 中，定义一个前后端协商好的字段。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/whole-stack-note/p4/browser/" class="prev router-link-active">浏览器原理</a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/whole-stack-note/assets/js/app.669d025b.js" defer></script><script src="/whole-stack-note/assets/js/2.6923c2fc.js" defer></script><script src="/whole-stack-note/assets/js/11.77c1ae1b.js" defer></script>
  </body>
</html>
