(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{230:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"cssom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cssom"}},[t._v("#")]),t._v(" CSSOM")]),t._v(" "),a("h2",{attrs:{id:"与-dom-的关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#与-dom-的关系"}},[t._v("#")]),t._v(" 与 DOM 的关系")]),t._v(" "),a("p",[t._v("DOM API能控制节点、元素，这些都是DOM树形结构相关的内容。")]),t._v(" "),a("p",[t._v("CSSOM API，就是用控制样式表的。")]),t._v(" "),a("blockquote",[a("p",[t._v("样式表无非通过"),a("code",[t._v("<style></style>")]),t._v("标签和"),a("code",[t._v("<link>")]),t._v("标签来引入，也是DOM的一种")])]),t._v(" "),a("p",[t._v("CSSOM View, 控制元素视图相关的view部分。这是更加常用的")]),t._v(" "),a("h2",{attrs:{id:"cssom-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cssom-api"}},[t._v("#")]),t._v(" CSSOM API")]),t._v(" "),a("p",[t._v("要操作样式表，首先要获取页面的样式表（"),a("code",[t._v("style或link标签")]),t._v("引入的）")]),t._v(" "),a("p",[a("code",[t._v("document.styleSheets")]),t._v(" 表示文档中的所有样式表，一个只读列表，可以用索引、item和length控制")]),t._v(" "),a("h3",{attrs:{id:"样式规则的增加和删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#样式规则的增加和删除"}},[t._v("#")]),t._v(" 样式规则的增加和删除")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("styleSheets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertRule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p { color:pink; }"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 在在第一个样式表的第一个位置插入新规则\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("styleSheets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeRule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 删除第一个样式规则\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("styleSheets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssRules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" 第一个"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CSS")]),t._v("样式表中的第一个规则\n")])])]),a("h3",{attrs:{id:"样式的查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#样式的查看"}},[t._v("#")]),t._v(" 样式的查看")]),t._v(" "),a("p",[t._v("第一个CSS样式表中的第一个规则中的样式列表，有3个比较重要的属性")]),t._v(" "),a("ul",[a("li",[t._v("selectorText 选择器，字符串形式。如 '.box'")]),t._v(" "),a("li",[t._v("style 详细的CSS属性列表")]),t._v(" "),a("li",[t._v("cssText 就是我们写的CSS样式，包括选择器和属性规则。是一个字符串")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("styleSheets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssRules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CSSStyleRule\n")])])]),a("h2",{attrs:{id:"cssom-view"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cssom-view"}},[t._v("#")]),t._v(" CSSOM View")]),t._v(" "),a("blockquote",[a("p",[t._v("是DOM API的扩展，原本在Element接口上，分为窗口、滚动和布局3个部分")])]),t._v(" "),a("h3",{attrs:{id:"窗口-api：操作浏览器位置和尺寸"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#窗口-api：操作浏览器位置和尺寸"}},[t._v("#")]),t._v(" 窗口 API：操作浏览器位置和尺寸")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("moveTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 窗口移动到屏幕的特定坐标\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("moveBy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 窗口移动特定的距离\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resizeTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 改变窗口大小到特定尺寸\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resizeBy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 改变窗口大小特定尺寸\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//  如：window.open("about:blank", "_blank" ,"width=100,height=100,left=100,right=100" )')]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 用指定的名称将指定的资源加载到浏览器上下文（窗口）\n")])])]),a("h3",{attrs:{id:"滚动-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#滚动-api"}},[t._v("#")]),t._v(" 滚动 API")]),t._v(" "),a("blockquote",[a("p",[t._v("要清楚区分可视区域和内部元素之间的滚动")])]),t._v(" "),a("h4",{attrs:{id:"视口滚动-api：由-window-对象控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视口滚动-api：由-window-对象控制"}},[t._v("#")]),t._v(" 视口滚动 API：由 window 对象控制")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("scrollX "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),t._v("方向上的当前滚动距离，别名 pageXOffset\nscrollY 别名 pageYOffset\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("让页面滚动到特定的位置，别名scrollTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("top"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scrollBy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 让页面滚动特定距离\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听滚动事件")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'scroll'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h4",{attrs:{id:"元素滚动-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元素滚动-api"}},[t._v("#")]),t._v(" 元素滚动 API")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("scrollTop "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Y")]),t._v("方向上的当前滚动距离\nscrollLeft "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),t._v("方向\nscrollWitdh 元素内部的滚动内容的宽度，一般来说大于等于元素宽度\nscrollHeight 元素内部"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("高度\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scroll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 元素滚动到特定位置\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scrollBy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 元素滚动特定位置\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scrollIntoView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 滚动元素所在的父元素，让元素滚动到可见区域，用arg来指定滚动到中间、开始还是就近位置\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 绑定滚动事件")]),t._v("\nelement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'scroll'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"布局-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#布局-api"}},[t._v("#")]),t._v(" 布局 API")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerWidth 视口的大小\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outerHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outerWidth 浏览器窗口占据的大小\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("devicePixelRatio 物理像素和"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CSS")]),t._v("像素单位的倍率关系\n\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen 屏幕尺寸相关信息\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height 设备的屏幕尺寸\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("availWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("availHeight 设备屏幕可渲染区域尺寸\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("colorDepth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pixelDepth 固定值"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v("\n")])])]),a("h3",{attrs:{id:"元素的布局信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元素的布局信息"}},[t._v("#")]),t._v(" 元素的布局信息")]),t._v(" "),a("blockquote",[a("p",[t._v("这2个API获取的都是相对于视口的坐标。受滚动影响。如果要相对坐标，就需要有技巧")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClientRects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 元素所对应的盒子所占据客户端的矩形区域。用x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("height来虎丘位置和尺寸\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBoundingClientRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 元素对应盒子的矩形区域，包括overflow为visible的子元素区域\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相对坐标")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" offsetX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" \n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBoundingClientRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x \n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBoundingClientRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);